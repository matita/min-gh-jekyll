---
title: "Getting Started With CSS calc() – Smashing Magazine"
description: "In CSS, calc() can do something that no preprocessor can: mix any kind of units. There are many practical uses of calc() — Ana Tudor shows some of them."
link: "http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/"
saved: "2015-12-09 17:13:06"
---


		<h2>
		<a property="url" href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/" rel="bookmark" title="Read 'Getting Started With CSS calc()'"><span property="name">Getting Started With CSS calc()</span></a>
	</h2>

			
<ul class="pmd clearfix">
	<li class="a" property="author" typeof="person" resource="#authorname">By <a href="http://www.smashingmagazine.com/author/anatudor/" title="Posts by Ana Tudor" rel="author">Ana Tudor</a></li>
		<li class="date" property="datePublished" content="December 2nd, 2015">December 2nd, 2015</li>
			<li class="tags" property="keywords"><a href="http://www.smashingmagazine.com/tag/css/">CSS</a><a href="http://www.smashingmagazine.com/tag/techniques/">Techniques</a></li>
		<li class="comments" property="discussionUrl"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#comments" title="Comment on Getting Started With CSS calc()">15 Comments</a> </li>
		</ul>
	
	
	<p>I first discovered the <code>calc()</code> function more than four years ago, thanks to <a href="http://css3clickchart.com/#calc">CSS3 Click Chart</a><sup class="po" id="note-1"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#1">1</a></sup>, and I was absolutely delighted to see that basic mathematical computations — addition, subtraction, multiplication and division — had found their way into CSS.</p>
<p>A lot of people think preprocessors fully cover the realm of logic and computation, but the <code>calc()</code> function can do something that no preprocessor can: <strong>mix any kind of units</strong>. Preprocessors can only mix units with a fixed relation between them, like angular units, time units, frequency units, resolution units and certain length units.</p>
<p><code>1turn</code> is always <code>360deg</code>, <code>100grad</code> is always <code>90deg</code>, and <code>3.14rad</code> is always <code>180deg</code>. <code>1s</code> is always <code>1000ms</code>, and <code>1kHz</code> is always <code>1000Hz</code>. <code>1in</code> is always <code>2.54cm</code> or <code>25.4mm</code> or <code>96px</code>, and <code>1dppx</code> is always equivalent to <code>96dpi</code>. This is why <a href="https://github.com/sass/sass/blob/a1e6302437dd967eac5288f0793e758e2b0ba5ee/lib/sass/script/value/number.rb#L470-L503">preprocessors are able to convert between them</a><sup class="po" id="note-2"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#2">2</a></sup> and mix them in computations. However, preprocessors cannot resolve how much <code>1em</code> or <code>1%</code> or <code>1vmin</code> or <code>1ch</code> is in pixels because they lack context.</p>
<p>Let’s look at a few basic examples:</p>
<pre class=" language-css"><code class=" language-css"><span class="token selector">div </span><span class="token punctuation">{</span>
   <span class="token property">font-size</span><span class="token punctuation">:</span> calc(3em + 5px)<span class="token punctuation">;</span>
   <span class="token property">padding</span><span class="token punctuation">:</span> calc(1vmax + -1vmin)<span class="token punctuation">;</span>
   <span class="token property">transform</span><span class="token punctuation">:</span> rotate(calc(1turn - 32deg))<span class="token punctuation">;</span>
   <span class="token property">background</span><span class="token punctuation">:</span> hsl(180, calc(2*25%), 65%)<span class="token punctuation">;</span> 
   <span class="token property">line-height</span><span class="token punctuation">:</span> calc(8/3)<span class="token punctuation">;</span>
   <span class="token property">width</span><span class="token punctuation">:</span> calc(23vmin - 2*3rem)<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>On some occasions, we might want to use variables in the <code>calc()</code> function. This is totally possible with the most popular preprocessors.</p>
<p>First, <a href="http://codepen.io/thebabydino/pen/hgFno">with Sass</a><sup class="po" id="note-3"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#3">3</a></sup>, we have variable interpolation, just as with any other native CSS function:</p>
<pre class=" language-scss"><code class=" language-scss"><span class="token variable">$a</span><span class="token punctuation">:</span> 4em
<span class="token property">height</span><span class="token punctuation">:</span> calc(<span class="token variable">#{$a}</span><span class="token operator"> + </span>7px)
</code></pre>
<p>Here <a href="http://codepen.io/thebabydino/pen/JoXvyd">is LESS</a><sup class="po" id="note-4"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#4">4</a></sup>:</p>
<pre class=" language-scss"><code class=" language-scss">@<span class="token property">a</span><span class="token punctuation">:</span> 4em<span class="token punctuation">;</span>
<span class="token property">height</span><span class="token punctuation">:</span> ~<span class="token string">"calc(@{a} + 7px)"</span><span class="token punctuation">;</span>
</code></pre>
<p>And <a href="http://codepen.io/thebabydino/pen/OPNZjO">here is Stylus</a><sup class="po" id="note-5"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#5">5</a></sup>:</p>
<pre class=" language-scss"><code class=" language-scss">a<span class="token operator"> = </span>4em
<span class="token property">height</span><span class="token punctuation">:</span> <span class="token string">"calc(%s + 7px)"</span><span class="token operator"> % </span>a
</code></pre>
<p>We can also use <a href="http://codepen.io/thebabydino/pen/WbwJyg">native CSS variables</a><sup class="po" id="note-6"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#6">6</a></sup>, but note that this only works in Firefox 31+ for the moment, because no other browser supports CSS variables yet.</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">--a</span><span class="token punctuation">:</span> 4em<span class="token punctuation">;</span>
<span class="token property">height</span><span class="token punctuation">:</span> calc(var(--a) + 7px)<span class="token punctuation">;</span>
</code></pre>
<p>We need to keep a few things in mind to ensure that the <code>calc()</code> function works. First, division by zero obviously won’t work. Having a space between the function name and the parenthesis is not allowed. And the plus and minus operators must be surrounded by white space. This means that the following are not valid:</p>
<pre class=" language-css"><code class=" language-css">calc(50% / 0)
calc (1em + 7px)
calc(2rem+2vmin)
calc(2vw-2vh)
</code></pre>
<p>The <code>calc()</code> function should work as a value in all places where a number value, with or without specified units, works. However, while basic support is really good, we might run into trouble depending on <em>where</em> we use it. Let’s look at a few examples, including what support problems they have (if any) and whether they’re ultimately the best solution.</p>
<h3 id="easier-to-understand-computed-values">Easier To Understand Computed Values <a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#easier-to-understand-computed-values" aria-label="Link to section 'Easier To Understand Computed Values'" class="sr hsl">Link</a></h3>
<p>Let’s say we want a rainbow gradient. The CSS for this is <a href="http://codepen.io/thebabydino/pen/VLOWaX">really simple</a><sup class="po" id="note-7"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#7">7</a></sup>:</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">background</span><span class="token punctuation">:</span> linear-gradient(#f00, #ff0, #0f0, #0ff, #00f, #f0f, #f00)<span class="token punctuation">;</span>
</code></pre>
<p>But those HEX values don’t make much sense. Using <code>hsl()</code> and <code>calc()</code>, although more verbose, makes things a lot clearer:</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">background</span><span class="token punctuation">:</span> linear-gradient(hsl(calc(0*60), 100%, 50%), 
                            hsl(calc(1*60), 100%, 50%), 
                            hsl(calc(2*60), 100%, 50%), 
                            hsl(calc(3*60), 100%, 50%), 
                            hsl(calc(4*60), 100%, 50%), 
                            hsl(calc(5*60), 100%, 50%), 
                            hsl(calc(6*60), 100%, 50%))<span class="token punctuation">;</span>
</code></pre>
<p>Sadly, using <code>calc()</code> in <code>hsl()</code>, <code>rgb()</code>, <code>hsla()</code> or <code>rgba()</code> doesn’t work at the moment <a href="http://codepen.io/thebabydino/pen/wfraH">in Firefox or Internet Explorer</a><sup class="po" id="note-8"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#8">8</a></sup> (IE), which means this version works <a href="http://codepen.io/thebabydino/pen/vNNjXG">only in WebKit browsers</a><sup class="po" id="note-9"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#9">9</a></sup> for now. So, in practice, it’s still probably better to let a preprocessor handle it all at this point, including the computations. And the best thing about using a preprocessor is that it lets us <a href="http://codepen.io/thebabydino/pen/BNeZQE">generate the list in a loop</a><sup class="po" id="note-10"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#10">10</a></sup>:</p>
<pre class=" language-scss"><code class=" language-scss"><span class="token variable">$n</span><span class="token punctuation">:</span> 6<span class="token punctuation">;</span>
<span class="token variable">$l</span><span class="token punctuation">:</span> ()<span class="token punctuation">;</span>

<span class="token keyword">@for</span><span class="token selector"> $i from 0 through $n </span><span class="token punctuation">{</span>
   <span class="token variable">$l</span><span class="token punctuation">:</span> append(<span class="token variable">$l</span>, hsl(<span class="token variable">$i</span>*360/<span class="token variable">$n</span>, 100%, 50%), comma)<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token property">background</span><span class="token punctuation">:</span> linear-gradient(<span class="token variable">$l</span>)<span class="token punctuation">;</span>
</code></pre>
<h3 id="more-efficient-gradient-backgrounds-for-flexible-elements">More Efficient Gradient Backgrounds For Flexible Elements <a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#more-efficient-gradient-backgrounds-for-flexible-elements" aria-label="Link to section 'More Efficient Gradient Backgrounds For Flexible Elements'" class="sr hsl">Link</a></h3>
<p>Let’s say we want a background with a fixed <code>1em</code> stripe both at the top and at the bottom. The only problem is we don’t know the height of the element. One solution would be to <a href="http://codepen.io/thebabydino/pen/OVYgWq">use two gradients</a><sup class="po" id="note-11"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#11">11</a></sup>:</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">background</span><span class="token punctuation">:</span> 
   linear-gradient(#e53b2c 1em, transparent 1em),
   linear-gradient(0deg, #e53b2c 1em, #f9f9f9 1em)<span class="token punctuation">;</span>
</code></pre>
<p>But we’d need only <a href="http://codepen.io/thebabydino/pen/BNeZWe">one gradient if we use <code>calc()</code></a><sup class="po" id="note-12"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#12">12</a></sup>:</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">background</span><span class="token punctuation">:</span> 
   linear-gradient(#e53b2c 1em, #f9f9f9 1em, 
                   #f9f9f9 calc(100% - 1em), 
                   #e53b2c calc(100% - 1em))<span class="token punctuation">;</span>
</code></pre>
<p>This should work fine in all browsers that support <code>calc()</code> and gradients, and because it involves mixing units, it isn’t something that preprocessors have an equivalent for. We can, however, make it more maintainable by <a href="http://codepen.io/thebabydino/pen/NGGMaY">using variables</a><sup class="po" id="note-13"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#13">13</a></sup>:</p>
<pre class=" language-scss"><code class=" language-scss"><span class="token variable">$s</span><span class="token punctuation">:</span> 1em<span class="token punctuation">;</span>
<span class="token variable">$c</span><span class="token punctuation">:</span> #e53b2c<span class="token punctuation">;</span>
<span class="token variable">$bg</span><span class="token punctuation">:</span> #f9f9f9<span class="token punctuation">;</span>

<span class="token property">background</span><span class="token punctuation">:</span> 
   linear-gradient(<span class="token variable">$c</span> <span class="token variable">$s</span>, 
                   <span class="token variable">$bg</span> <span class="token variable">$s</span>, 
                   <span class="token variable">$bg</span> calc(100%<span class="token operator"> - </span><span class="token variable">#{$s}</span>), 
                   <span class="token variable">$c</span> calc(100%<span class="token operator"> - </span><span class="token variable">#{$s}</span>))<span class="token punctuation">;</span>
</code></pre>
<p>Note: For some reason, one of the stripes appears to be slightly blurry and narrower than the other in Chrome and Opera.</p>
<h3 id="diagonal-gradient-stripes">Diagonal Gradient Stripes <a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#diagonal-gradient-stripes" aria-label="Link to section 'Diagonal Gradient Stripes'" class="sr hsl">Link</a></h3>
<p>Let’s say we want an element with a thick diagonal stripe extending on both sides of its actual diagonal. We could do it <a href="http://codepen.io/thebabydino/pen/YyGPJo">using percentage-based stops</a><sup class="po" id="note-14"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#14">14</a></sup>:</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">background</span><span class="token punctuation">:</span> 
   linear-gradient(to right bottom, 
                   transparent 42%, #000 0, #000 58%, 
                   transparent 0)<span class="token punctuation">;</span>
</code></pre>
<p>In this case, the width of the stripe would depend on the element’s dimensions. Sometimes, that’s exactly what we want. For example, this is how we’d do things if we wanted to reproduce a flag in CSS. Adding a bit of green, yellow and blue to the gradient above <a href="http://codepen.io/thebabydino/pen/zvKxeL">gives us a flag</a><sup class="po" id="note-15"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#15">15</a></sup> that fine-chocolate lovers probably recognize — the flag of Tanzania.</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">background</span><span class="token punctuation">:</span> 
   linear-gradient(to right bottom, 
                   #1eb53a 38%, #fcd116 0, 
                   #fcd116 42%, #000 0, 
                   #000 58%, #fcd116 0, 
                   #fcd116 62%, #00a3dd 0)<span class="token punctuation">;</span>
</code></pre>
<figure><a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/01-flag_tanzania.png"><img src="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/01-flag_tanzania-preview.png" alt="Flag of Tanzania"></a><sup class="po" id="note-16"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#16">16</a></sup><br>
<figcaption>Flag of Tanzania. (<a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/01-flag_tanzania.png">View large version</a><sup class="po" id="note-17"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#17">17</a></sup>)</figcaption>
</figure>
<p>But what if we want our diagonal stripe to have a fixed width that doesn’t depend on the element’s dimensions? Well, we’d use <code>calc()</code> and put the stops at <code>50%</code> minus half of the fixed stripe’s width and at <code>50%</code> plus half of the fixed stripe’s width. If we want the stripe’s width to be <code>4em</code>, then we’d have this:</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">background</span><span class="token punctuation">:</span> 
   linear-gradient(to right bottom, 
                   transparent calc(50% - 2em), 
                   #000 0, 
                   #000 calc(50% + 2em), 
                   transparent 0)<span class="token punctuation">;</span>
</code></pre>
<p>You can <a href="http://codepen.io/thebabydino/pen/YyGPJo">test this live</a><sup class="po" id="note-18"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#18">18</a></sup> by resizing the window. The element’s dimensions are expressed in viewport units and, therefore, change with the viewport, but the diagonal stripe always stays the same width.</p>
<h3 id="positioning-children-of-known-dimensions-in-the-middle">Positioning Children Of Known Dimensions In The Middle <a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#positioning-children-of-known-dimensions-in-the-middle" aria-label="Link to section 'Positioning Children Of Known Dimensions In The Middle'" class="sr hsl">Link</a></h3>
<p>You’ve likely seen the <a href="http://codepen.io/thebabydino/pen/yYYEJB">little trick</a><sup class="po" id="note-19"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#19">19</a></sup> of absolutely positioning an element dead in the middle of its parent:</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
<span class="token property">top</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span> 
<span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
<span class="token property">margin</span><span class="token punctuation">:</span> -2em -2.5em<span class="token punctuation">;</span>
<span class="token property">width</span><span class="token punctuation">:</span> 5em<span class="token punctuation">;</span> 
<span class="token property">height</span><span class="token punctuation">:</span> 4em<span class="token punctuation">;</span>
</code></pre>
<p>With <code>calc()</code>, we can <a href="http://codepen.io/thebabydino/pen/wKKXzQ">get rid of the <code>margin</code> rule</a><sup class="po" id="note-20"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#20">20</a></sup>:</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
<span class="token property">top</span><span class="token punctuation">:</span> calc(50% - 2em)<span class="token punctuation">;</span> 
<span class="token property">left</span><span class="token punctuation">:</span> calc(50% - 2.5em)<span class="token punctuation">;</span>
<span class="token property">width</span><span class="token punctuation">:</span> 5em<span class="token punctuation">;</span> 
<span class="token property">height</span><span class="token punctuation">:</span> 4em<span class="token punctuation">;</span>
</code></pre>
<p>And we can make it more maintainable using <a href="http://codepen.io/thebabydino/pen/LpprXQ">variables for width and height</a><sup class="po" id="note-21"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#21">21</a></sup>:</p>
<pre class=" language-scss"><code class=" language-scss"><span class="token variable">$w</span><span class="token punctuation">:</span> 5em<span class="token punctuation">;</span>
<span class="token variable">$h</span><span class="token punctuation">:</span> 4em<span class="token punctuation">;</span>

<span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
<span class="token property">top</span><span class="token punctuation">:</span> calc(50%<span class="token operator"> - </span>#<span class="token punctuation">{</span>.5*<span class="token variable">$h</span><span class="token punctuation">}</span>)<span class="token punctuation">;</span>
<span class="token property">left</span><span class="token punctuation">:</span> calc(50%<span class="token operator"> - </span>#<span class="token punctuation">{</span>.5*<span class="token variable">$w</span><span class="token punctuation">}</span>)<span class="token punctuation">;</span>
<span class="token property">width</span><span class="token punctuation">:</span> <span class="token variable">$w</span><span class="token punctuation">;</span> 
<span class="token property">height</span><span class="token punctuation">:</span> <span class="token variable">$h</span><span class="token punctuation">;</span>
</code></pre>
<p>Note that, while using offsets (<code>top</code>, <code>left</code>) for initial positioning is safe, if you plan on animating the position of the element afterwards, you should use transforms instead. This is because changing transforms <a href="http://csstriggers.com/">requires only compositing</a><sup class="po" id="note-22"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#22">22</a></sup>, whereas changing offsets also triggers a relayout and repaint — thus, impairing performance.</p>
<h3 id="system-of-coordinates-and-grid-with-origin-in-the-middle">System Of Coordinates And Grid With Origin In The Middle <a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#system-of-coordinates-and-grid-with-origin-in-the-middle" aria-label="Link to section 'System Of Coordinates And Grid With Origin In The Middle'" class="sr hsl">Link</a></h3>
<p>Since discovering the <a href="https://css-tricks.com/almanac/properties/b/background-position/">four-value <code>background-position</code></a><sup class="po" id="note-23"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#23">23</a></sup>, I haven’t been too keen on using <code>calc()</code> to position backgrounds relative to the right or bottom side of the element. But <code>calc()</code> turned out to be a great solution for positioning a certain point of the background relative to the middle of the element.</p>
<p>A couple of years ago, I found myself wanting to create a background that represents a system of coordinates with a grid behind and whose origin would be dead in the middle of the screen.</p>
<figure><a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/10/02-coord_system.png"><img src="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/02-coord_system-preview.png" alt="System of coordinates and grid"></a><sup class="po" id="note-24"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#24">24</a></sup><br>
<figcaption>System of coordinates and grid. (<a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/10/02-coord_system.png">View large version</a><sup class="po" id="note-25"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#25">25</a></sup>)</figcaption>
</figure>
<p>The <a href="http://codepen.io/thebabydino/pen/NqVgYP">system of coordinates and the grid part</a><sup class="po" id="note-26"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#26">26</a></sup> were easy to achieve:</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">background-image</span><span class="token punctuation">:</span> 
   linear-gradient(#e53b2c .5em, transparent .5em) <span class="token comment" spellcheck="true">/* horizontal axis */</span>,
   linear-gradient(90deg, #e53b2c .5em, transparent .5em) <span class="token comment" spellcheck="true">/* vertical axis */</span>, 
   linear-gradient(#333 .25em, transparent .25em) <span class="token comment" spellcheck="true">/* major horizontal gridline */</span>, 
   linear-gradient(90deg, #333 .25em, transparent .25em) <span class="token comment" spellcheck="true">/* major vertical gridline */</span>, 
   linear-gradient(#777 .125em, transparent .125em) <span class="token comment" spellcheck="true">/* minor horizontal gridline */</span>, 
   linear-gradient(90deg, #777 .125em, transparent .125em) <span class="token comment" spellcheck="true">/* minor vertical gridline */</span><span class="token punctuation">;</span>

<span class="token property">background-size</span><span class="token punctuation">:</span> 
   100vw 100vh, 100vw 100vh, 
   10em 10em, 10em 10em, 
   1em 1em, 1em 1em<span class="token punctuation">;</span>
</code></pre>
<p>But how do we make the origin of the background dead in the middle and not in the top-left corner? First, <code>background-position: 50% 50%</code> won’t work because it makes the <code>50% 50%</code> point of the gradient coincide with the <code>50% 50%</code> point of the element, but the lines are at the top and at the left of the gradients, respectively. The solution is to use <code>calc()</code> and position the gradients so that their top left is almost in the middle of the viewport, just offset to the top and left by half the axis or the grid line’s width:</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">background-position</span><span class="token punctuation">:</span> 
    0 calc(50vh - .25em), calc(50vw - .25em), 
    0 calc(50vh - .125em), calc(50vw - .125em), 
    0 calc(50vh - .0625em), calc(50vw - .0625em)<span class="token punctuation">;</span>
</code></pre>
<p>Again, we can make it all more maintainable by using variables:</p>
<figure>
<p class="codepen">See the Pen <a href="http://codepen.io/thebabydino/pen/PqvjBr/">system of coordinates + grid #2</a><sup class="po" id="note-27"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#27">27</a></sup> by Ana Tudor (<a href="http://codepen.io/thebabydino">@thebabydino</a><sup class="po" id="note-28"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#28">28</a></sup>) on <a href="http://codepen.io/">CodePen</a><sup class="po" id="note-29"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#29">29</a></sup>.</p>
</figure>
<h3 id="maintaining-aspect-ratio-and-covering-a-viewport-dimension">Maintaining Aspect Ratio And Covering A Viewport Dimension <a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#maintaining-aspect-ratio-and-covering-a-viewport-dimension" aria-label="Link to section 'Maintaining Aspect Ratio And Covering A Viewport Dimension'" class="sr hsl">Link</a></h3>
<p>One thing I’ve always wanted when creating HTML slides was for each slide to be a box of a certain fixed-aspect ratio that always covers at least one dimension of the viewport and that is, of course, in the middle along the other axis.</p>
<figure><iframe src="https://player.vimeo.com/video/140925021" width="500" height="500" frameborder="0" title="01-prop-box" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe><br>
<figcaption>Proportional box animation</figcaption>
</figure>
<p>Let’s start by assuming that the desired aspect ratio for the slides is 4:3 and that I’m on a widescreen display. This means the slides cover the viewport vertically but still have some space on the left and the right.</p>
<figure><a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/04-prob_box_case_1.png"><img src="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/04-prob_box_case_1-preview.png" alt="Proportional box: case 1"></a><sup class="po" id="note-30"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#30">30</a></sup><br>
<figcaption>Proportional box: case 1. (<a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/04-prob_box_case_1.png">View large version</a><sup class="po" id="note-31"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#31">31</a></sup>)</figcaption>
</figure>
<p>Covering the viewport vertically means a <code>height</code> of <code>100vh</code>. Knowing the height and the aspect ratio, we can get the width, which is <code>4/3*100vh</code>. And to get it in the middle, we need to offset it from the <code>left</code> by half the viewport’s width (<code>100vw/2</code>) minus half the slide’s width (<code>4/3*100vh/2</code>). This is where we need the <code>calc()</code> function because we have to mix units.</p>
<pre class=" language-css"><code class=" language-css"><span class="token selector">.slide </span><span class="token punctuation">{</span>
   <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
   <span class="token property">left</span><span class="token punctuation">:</span> calc(100vw/2 - 4/3*100vh/2)<span class="token punctuation">;</span>
   <span class="token property">width</span><span class="token punctuation">:</span> calc(4/3*100vh)<span class="token punctuation">;</span>
   <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Things change, however, for a display with an aspect ratio that’s less than 4:3. In this case, the slides cover the viewport horizontally, with some space left at the top and the bottom.</p>
<figure><a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/05-prop_box_case_2.png"><img src="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/05-prop_box_case_2-preview.png" alt="Proportional box: case 2"></a><sup class="po" id="note-32"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#32">32</a></sup><br>
<figcaption>Proportional box: case 2. (<a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/05-prop_box_case_2.png">View large version</a><sup class="po" id="note-33"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#33">33</a></sup>)</figcaption>
</figure>
<p>Covering the viewport horizontally means a <code>width</code> of <code>100vw</code>. Knowing this and the aspect ratio will give us the <code>height</code>, which is <code>3/4*100vw</code>. Finally, the <code>top</code> offset is half the viewport’s height minus half the slide’s height; so, <code>100vh/2 - 3/4*100vw/2</code>.</p>
<pre class=" language-css"><code class=" language-css"><span class="token atrule">@media (max-aspect-ratio: 4/3) </span><span class="token punctuation">{</span>
   <span class="token selector">.slide </span><span class="token punctuation">{</span>
      <span class="token property">top</span><span class="token punctuation">:</span> calc(100vh/2 - 3/4*100vw/2)<span class="token punctuation">;</span>
      <span class="token property">left</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token comment" spellcheck="true">/* Undo style set outside media query  */</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span>
      <span class="token property">height</span><span class="token punctuation">:</span> calc(3/4*100vh)<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We can, of course, make things more flexible by not hardcoding the aspect ratio and using two variables instead (one for width and one for height). Here is the Sass version, which you can also <a href="http://codepen.io/thebabydino/full/IwvlL/">test live</a><sup class="po" id="note-34"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#34">34</a></sup> by resizing the window:</p>
<pre class=" language-scss"><code class=" language-scss"><span class="token variable">$a</span><span class="token punctuation">:</span> 4<span class="token punctuation">;</span>
<span class="token variable">$b</span><span class="token punctuation">:</span> 3<span class="token punctuation">;</span><span class="token selector">

.slide </span><span class="token punctuation">{</span>
   <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
   <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span> 
   <span class="token property">left</span><span class="token punctuation">:</span> calc(50vw<span class="token operator"> - </span>#<span class="token punctuation">{</span><span class="token variable">$a</span>/<span class="token variable">$b</span>/2*100vh<span class="token punctuation">}</span>)<span class="token punctuation">;</span>
   <span class="token property">width</span><span class="token punctuation">:</span> <span class="token variable">$a</span>/<span class="token variable">$b</span>*100vh<span class="token punctuation">;</span> 
   <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
  
   <span class="token atrule">@media</span> (<span class="token property">max-aspect-ratio</span><span class="token punctuation">:</span> <span class="token variable">#{$a}</span>/<span class="token variable">#{$b}</span>)<span class="token selector"> </span><span class="token punctuation">{</span>
      <span class="token property">top</span><span class="token punctuation">:</span> calc(50vh<span class="token operator"> - </span>#<span class="token punctuation">{</span><span class="token variable">$b</span>/<span class="token variable">$a</span>/2*100vw<span class="token punctuation">}</span>)<span class="token punctuation">;</span> 
      <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span> 
      <span class="token property">height</span><span class="token punctuation">:</span> <span class="token variable">$b</span>/<span class="token variable">$a</span>*100vw<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Even better, we could <a href="http://codepen.io/thebabydino/pen/MajxzY">turn this into a mixin</a><sup class="po" id="note-35"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#35">35</a></sup>, which is generally a better practice than using global variables:</p>
<pre class=" language-css"><code class=" language-css"><span class="token atrule">@mixin proportional-box($a: 1, $b: $a) </span><span class="token punctuation">{</span>
   <span class="token selector">position: absolute;
   top: 0; 
   left: calc(50vw - #</span><span class="token punctuation">{</span>$a/$b/2*100vh<span class="token punctuation">}</span>)<span class="token punctuation">;</span>
   <span class="token property">width</span><span class="token punctuation">:</span> $a/$b*100vh<span class="token punctuation">;</span> 
   <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
  
   <span class="token atrule">@media (max-aspect-ratio: #</span><span class="token punctuation">{</span>$a<span class="token punctuation">}</span><span class="token selector">/#</span><span class="token punctuation">{</span>$b<span class="token punctuation">}</span><span class="token selector">) </span><span class="token punctuation">{</span>
      <span class="token selector">top: calc(50vh - #</span><span class="token punctuation">{</span>$b/$a/2*100vw<span class="token punctuation">}</span>)<span class="token punctuation">;</span> <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
      <span class="token property">width</span><span class="token punctuation">:</span> 100vw<span class="token punctuation">;</span> <span class="token property">height</span><span class="token punctuation">:</span> $b/$a*100vw<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">.slide </span><span class="token punctuation">{</span>
   <span class="token atrule">@include proportional-box(4, 3)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Note that <code>$a</code> and <code>$b</code> <a href="https://vasilis.nl/nerd/min-aspect-ratio-mean-look-like/">must be integers</a><sup class="po" id="note-36"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#36">36</a></sup> in order for the media query to work.</p>
<p>This is supported in all current versions of major browsers. However, WebKit browsers didn’t support the use of viewport units in the <code>calc()</code> function until recently. This has been fixed in Safari 8 and Chrome 34, respectively, with Opera trailing.</p>
<h3 id="short-slide-title-in-the-middle">Short Slide Title In The Middle <a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#short-slide-title-in-the-middle" aria-label="Link to section 'Short Slide Title In The Middle'" class="sr hsl">Link</a></h3>
<p>I wanted two more things for slide presentations.</p>
<p>The first was for the slides not to really cover the entire viewport because the edges might get cut off. This was an easy fix. I simply set their <code>box-sizing</code> to <code>border-box</code> and also set a border on them.</p>
<p>The second thing I wanted was to mark sections by starting each with a slide that had nothing but a short and memorable title right in the middle.</p>
<figure><a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/06-title_slide.png"><img src="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/06-title_slide-preview.png" alt="Desired result"></a><sup class="po" id="note-37"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#37">37</a></sup><br>
<figcaption>Desired result. (<a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/06-title_slide.png">View large version</a><sup class="po" id="note-38"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#38">38</a></sup>)</figcaption>
</figure>
<p>I didn’t want to use absolute positioning, so I thought I’d go with setting an appropriate <code>line-height</code>.</p>
<p>In case the slide’s height, including the border, covers the entire height of the viewport, I would have a <code>line-height</code> of <code>100vh</code> minus twice the slide’s <code>border-width</code>:</p>
<pre class=" language-scss"><code class=" language-scss"><span class="token variable">$slide-border-width</span><span class="token punctuation">:</span> 5vmin<span class="token punctuation">;</span><span class="token selector">

.slide </span><span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true">/* The other styles */</span>
   <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
   <span class="token property">border</span><span class="token punctuation">:</span> solid <span class="token variable">$slide-border-width</span> dimgrey<span class="token punctuation">;</span><span class="token selector">
    
   h1 </span><span class="token punctuation">{</span>
      <span class="token property">line-height</span><span class="token punctuation">:</span> calc(100vh<span class="token operator"> - </span>#<span class="token punctuation">{</span>2*<span class="token variable">$slide-border-width</span><span class="token punctuation">}</span>)<span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>In case the slide, including the borders, covers the viewport horizontally (and was vertically in the middle), its height would be <code>$b/$a*100vw</code>. So, the <code>line-height</code> for the title would be that minus twice the slide’s <code>border-width</code>:</p>
<pre class=" language-scss"><code class=" language-scss"><span class="token property">line-height</span><span class="token punctuation">:</span> calc(#<span class="token punctuation">{</span><span class="token variable">$b</span>/<span class="token variable">$a</span>*100vw<span class="token punctuation">}</span><span class="token operator"> - </span>#<span class="token punctuation">{</span>2*<span class="token variable">$slide-border-width</span><span class="token punctuation">}</span>)<span class="token punctuation">;</span>
</code></pre>
<p>This was my initial idea, which, in theory, should work just fine. And it does <a href="http://codepen.io/thebabydino/pen/qObdVm">in WebKit browsers and IE</a><sup class="po" id="note-39"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#39">39</a></sup>. However, it turns out that <code>calc()</code> values don’t work for <code>line-height</code> (and some other properties) <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=594933">in Firefox</a><sup class="po" id="note-40"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#40">40</a></sup>; so, <code>calc()</code> is not the best solution there. Luckily, there are a lot of other ways to solve this problem (flexbox, absolute positioning and more).</p>
<h3 id="fixed-point-of-view">Fixed Point Of View <a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#fixed-point-of-view" aria-label="Link to section 'Fixed Point Of View'" class="sr hsl">Link</a></h3>
<p>One thing I enjoy playing with a lot is CSS 3D — creating geometric 3D shapes with CSS in particular. If I create just one shape, then I’d normally position it in the middle of the scene it’s contained in. The scene is the element on which I set the <code>perspective</code> and also the parent of the shape element. The shape element will have its own descendants, which are the shape faces, but we won’t go into detail about them here; if you want to learn how they are positioned, then check out my <a href="https://css-tricks.com/how-i-live-coded-my-most-hearted-codepen-demo/">guest article on CSS-Tricks</a><sup class="po" id="note-41"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#41">41</a></sup>.</p>
<p>Setting a <code>perspective</code> on a scene ensures we’ll see everything that is closer as being bigger and everything that is further away as being smaller. The <code>perspective</code> property accepts length values, and the smaller these values are, the <a href="http://codepen.io/thebabydino/pen/QbRmYN">greater the contrast</a><sup class="po" id="note-42"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#42">42</a></sup> between what’s closer to us and what’s further away.</p>
<p>Now, let’s say we have a very simple 3D shape — a cube, for example — right in the middle of our scene. It doesn’t look very 3D: It’s way too symmetrical, and if the faces are fully opaque, we can only see the front one.</p>
<figure><a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/07-simple_cube.png"><img src="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/07-simple_cube-preview.png" alt="Cube"></a><sup class="po" id="note-43"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#43">43</a></sup><br>
<figcaption>Cube. (<a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/07-simple_cube.png">View large version</a><sup class="po" id="note-44"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#44">44</a></sup>)</figcaption>
</figure>
<p>We could rotate it a bit, let’s say by <code>30°</code>, around its <code>y</code> axis (i.e. the vertical axis passing through the middle of the cube) or around its <code>x</code> axis. This looks better, but we can only see two faces. Plus, the cube is now visibly rotated, which was not the intention.</p>
<figure><a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/08-rotated_simple_cubes.png"><img src="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/12/08-rotated_simple_cubes-preview-2.png" alt="Rotated cube"></a><sup class="po" id="note-45"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#45">45</a></sup><br>
<figcaption>Rotated cube. (<a href="https://media-mediatemple.netdna-ssl.com/wp-content/uploads/2015/09/08-rotated_simple_cubes.png">View large version</a><sup class="po" id="note-46"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#46">46</a></sup>)</figcaption>
</figure>
<p>Something else we could do is change our point of view. We do this via a property called <code>perspective-origin</code>. Its initial value is <code>50% 50%</code>. This is relative to the scene, and we know that the <code>50% 50%</code> point of the scene is where the central point of the shape is positioned. Now, let’s say we want to move this up and to the right. The simplest way to do this is to set <code>perspective-origin: 100% 0</code>. But this creates a problem: How we now see the cube depends on the dimensions of the scene (you can <a href="http://codepen.io/thebabydino/pen/MaeOoa">test this live</a><sup class="po" id="note-47"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#47">47</a></sup> by resizing the viewport).</p>
<figure><iframe src="https://player.vimeo.com/video/140925022" width="500" height="500" frameborder="0" title="02-cube-pov" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe><br>
<figcaption>Changing scene dimensions changes how we see the cube.</figcaption>
</figure>
<p>A <code>perspective-origin</code> of <code>100% 0</code> is measured from the top right corner of the scene, while the cube is always in the middle of the scene. Because of this, changing the scene’s dimensions will change the distance between the <code>50% 50%</code> point (where the cube is positioned) and the <code>100% 0</code> point (where we have set the <code>perspective-origin</code>).</p>
<p>A solution for this to use <code>calc()</code> for <code>perspective-origin</code>, of course, is simply to add or subtract a fixed value from the initial <code>50%</code>:</p>
<pre class=" language-css"><code class=" language-css"><span class="token property">perspective-origin</span><span class="token punctuation">:</span> calc(50% + 15em) calc(50% - 10em)<span class="token punctuation">;</span>
</code></pre>
<figure><iframe src="https://player.vimeo.com/video/140925020" width="500" height="500" frameborder="0" title="03-cube-pov-2" webkitallowfullscreen="" mozallowfullscreen="" allowfullscreen=""></iframe><br>
<figcaption>Solution</figcaption>
</figure>
<p>You can <a href="http://codepen.io/thebabydino/pen/avZVQL">test this live</a><sup class="po" id="note-48"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#48">48</a></sup> by resizing the viewport.</p>
<h3 id="what-about-you">What about you? <a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#what-about-you" aria-label="Link to section 'What about you?'" class="sr hsl">Link</a></h3>
<p>Have you used <code>calc()</code>? If yes, what for?</p>
<p><em>(ds, ml, jb, al)</em></p>
<h4 class="po" id="footnotes">Footnotes <a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#footnotes" aria-label="Link to section 'Footnotes'" class="sr hsl">Link</a></h4><ol class="po"><li id="#1"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-1">1 http://css3clickchart.com/#calc</a></li><li id="#2"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-2">2 https://github.com/sass/sass/blob/a1e6302437dd967eac5288f0793e758e2b0ba5ee/lib/sass/script/value/number.rb#L470-L503</a></li><li id="#3"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-3">3 http://codepen.io/thebabydino/pen/hgFno</a></li><li id="#4"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-4">4 http://codepen.io/thebabydino/pen/JoXvyd</a></li><li id="#5"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-5">5 http://codepen.io/thebabydino/pen/OPNZjO</a></li><li id="#6"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-6">6 http://codepen.io/thebabydino/pen/WbwJyg</a></li><li id="#7"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-7">7 http://codepen.io/thebabydino/pen/VLOWaX</a></li><li id="#8"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-8">8 http://codepen.io/thebabydino/pen/wfraH</a></li><li id="#9"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-9">9 http://codepen.io/thebabydino/pen/vNNjXG</a></li><li id="#10"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-10">10 http://codepen.io/thebabydino/pen/BNeZQE</a></li><li id="#11"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-11">11 http://codepen.io/thebabydino/pen/OVYgWq</a></li><li id="#12"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-12">12 http://codepen.io/thebabydino/pen/BNeZWe</a></li><li id="#13"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-13">13 http://codepen.io/thebabydino/pen/NGGMaY</a></li><li id="#14"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-14">14 http://codepen.io/thebabydino/pen/YyGPJo</a></li><li id="#15"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-15">15 http://codepen.io/thebabydino/pen/zvKxeL</a></li><li id="#16"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-16">16 http://www.smashingmagazine.com/wp-content/uploads/2015/09/01-flag_tanzania.png</a></li><li id="#17"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-17">17 http://www.smashingmagazine.com/wp-content/uploads/2015/09/01-flag_tanzania.png</a></li><li id="#18"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-18">18 http://codepen.io/thebabydino/pen/YyGPJo</a></li><li id="#19"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-19">19 http://codepen.io/thebabydino/pen/yYYEJB</a></li><li id="#20"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-20">20 http://codepen.io/thebabydino/pen/wKKXzQ</a></li><li id="#21"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-21">21 http://codepen.io/thebabydino/pen/LpprXQ</a></li><li id="#22"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-22">22 http://csstriggers.com/</a></li><li id="#23"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-23">23 https://css-tricks.com/almanac/properties/b/background-position/</a></li><li id="#24"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-24">24 http://www.smashingmagazine.com/wp-content/uploads/2015/10/02-coord_system.png</a></li><li id="#25"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-25">25 http://www.smashingmagazine.com/wp-content/uploads/2015/10/02-coord_system.png</a></li><li id="#26"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-26">26 http://codepen.io/thebabydino/pen/NqVgYP</a></li><li id="#27"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-27">27 'http://codepen.io/thebabydino/pen/PqvjBr/'</a></li><li id="#28"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-28">28 'http://codepen.io/thebabydino'</a></li><li id="#29"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-29">29 'http://codepen.io'</a></li><li id="#30"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-30">30 http://www.smashingmagazine.com/wp-content/uploads/2015/09/04-prob_box_case_1.png</a></li><li id="#31"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-31">31 http://www.smashingmagazine.com/wp-content/uploads/2015/09/04-prob_box_case_1.png</a></li><li id="#32"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-32">32 http://www.smashingmagazine.com/wp-content/uploads/2015/09/05-prop_box_case_2.png</a></li><li id="#33"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-33">33 http://www.smashingmagazine.com/wp-content/uploads/2015/09/05-prop_box_case_2.png</a></li><li id="#34"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-34">34 http://codepen.io/thebabydino/full/IwvlL/</a></li><li id="#35"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-35">35 http://codepen.io/thebabydino/pen/MajxzY</a></li><li id="#36"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-36">36 https://vasilis.nl/nerd/min-aspect-ratio-mean-look-like/</a></li><li id="#37"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-37">37 http://www.smashingmagazine.com/wp-content/uploads/2015/09/06-title_slide.png</a></li><li id="#38"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-38">38 http://www.smashingmagazine.com/wp-content/uploads/2015/09/06-title_slide.png</a></li><li id="#39"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-39">39 http://codepen.io/thebabydino/pen/qObdVm</a></li><li id="#40"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-40">40 https://bugzilla.mozilla.org/show_bug.cgi?id=594933</a></li><li id="#41"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-41">41 https://css-tricks.com/how-i-live-coded-my-most-hearted-codepen-demo/</a></li><li id="#42"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-42">42 http://codepen.io/thebabydino/pen/QbRmYN</a></li><li id="#43"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-43">43 http://www.smashingmagazine.com/wp-content/uploads/2015/09/07-simple_cube.png</a></li><li id="#44"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-44">44 http://www.smashingmagazine.com/wp-content/uploads/2015/09/07-simple_cube.png</a></li><li id="#45"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-45">45 http://www.smashingmagazine.com/wp-content/uploads/2015/09/08-rotated_simple_cubes.png</a></li><li id="#46"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-46">46 http://www.smashingmagazine.com/wp-content/uploads/2015/09/08-rotated_simple_cubes.png</a></li><li id="#47"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-47">47 http://codepen.io/thebabydino/pen/MaeOoa</a></li><li id="#48"><a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#note-48">48 http://codepen.io/thebabydino/pen/avZVQL</a></li></ol>
	
	
	<div class="lt"><a href="http://www.smashingmagazine.com/tag/css/">CSS</a><a href="http://www.smashingmagazine.com/tag/techniques/">Techniques</a></div>
<p>
	<a href="http://www.smashingmagazine.com/2015/12/getting-started-css-calc-techniques/?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#top" class="top">↑ Back to top</a>
	<a class="sot single" href="https://twitter.com/intent/tweet?original_referer=http%3A%2F%2Fwww.smashingmagazine.com%2F2015%2F12%2Fgetting-started-css-calc-techniques%2F&amp;source=tweetbutton&amp;text=Getting%20Started%20With%20CSS%20calc%28%29&amp;url=http%3A%2F%2Fwww.smashingmagazine.com%2F2015%2F12%2Fgetting-started-css-calc-techniques%2F&amp;via=smashingmag">Tweet it</a><a class="sot single" href="http://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fwww.smashingmagazine.com%2F2015%2F12%2Fgetting-started-css-calc-techniques%2F">Share on Facebook</a></p><p></p>

