---
layout: post
title: Acquire
---
<script>
  var params = location.search.substr(1)
    .split('&')
    .reduce(function(p, e) {
      e = e.split('=');
      p[decodeURIComponent(e[0])] = decodeURIComponent(e[1]);
      return p;
    }, {});

  var origin = params.origin;
  window.addEventListener('message', receiveMessage, false);

  function receiveMessage(e) {
    if (e.origin != origin)
      return;
    console.log('message', e);
  }

  window.opener.postMessage('loaded', origin);
</script>