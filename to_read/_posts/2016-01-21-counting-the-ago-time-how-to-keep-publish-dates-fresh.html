---
title: "Counting the “Ago” Time: How to Keep Publish Dates Fresh"
description: "Osvaldas Valutis explains a simple technique for keeping your publish dates fresh and up to date."
link: "http://www.sitepoint.com/counting-the-ago-time-how-to-keep-publish-dates-fresh/"
saved: "2016-01-21 14:07:53"
---

    <p>It’s common to present dates on the Web in a format such as <strong>Published on September 12th, 2015</strong>, or <strong>09/12/2015, 09:41:23</strong> and <strong>2015-09-12</strong>. </p>
<p>Each of these examples tells the full date and/or time of some kind of activity – be it a published article, or a reader comment, or perhaps an uploaded video.</p>
<p>Date formats like this might seem perfectly reasonable. After all, they’re informative and human-readable! Well yes, but “human-readable” doesn’t necessary mean users will readily be able to understand how recently the activity has occurred. The Web is a fast-moving place, and giving your content a sense of freshness could be the key to engaging with your audience! So, let’s look at how we could improve on these common date formats.</p>

<h2 id="trick">A Little Trick</h2>
<p>Once again, let’s say you have stumbled on a post that was actually published just a couple of minutes ago, but the subheading of the post states this:</p>
<blockquote>
<p>Published on September 12th, 2016</p>
</blockquote>
<p>… or this:</p>
<blockquote>
<p>Published on 2016-09-12, 09:41:23</p>
</blockquote>
<p>The problem with these messages is that they don’t communicate the feeling that your website has just been updated or that you do that very often. So, surely it be more inviting – and much clearer – to present the time this way:</p>
<blockquote>
<p>Published 2 minutes ago</p>
</blockquote>
<p>Seen this many times before? But how many of you have built this into your projects? Take Facebook for example: what would it look like if they presented the dates for the latest content as in my first example? Compare the left and right columns in the following image:</p>
<p><img src="http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453295739better-way-to-present-time-on-web-1.gif" alt="timestamp formats compared" width="760" height="380" class="aligncenter size-full wp-image-123040"></p>
<p>The left column’s dates aren’t that attractive, are they? I’ll wager the right hand examples are more appealing to you. Knowing that the content is fresh is very important – especially on the social networks, where people are more likely to ignore content that’s old or not clearly timestamped.</p>
<h2 id="better">Printing Better Dates</h2>
<p>In order to present <em>better dates</em>, you’ll need some server-side scripting, and I’ll use PHP for this demo. I created a tiny function called <code class=" language-php"><span class="token function">time_ago</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code>, as shown here:</p>
<pre class=" language-php"><code class=" language-php"><span class="token php"><span class="token delimiter">&lt;?php</span>

    <span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_NOW</span><span class="token punctuation">,</span>         <span class="token string">'now'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_MINUTE</span><span class="token punctuation">,</span>      <span class="token string">'{num} minute ago'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_MINUTES</span><span class="token punctuation">,</span>     <span class="token string">'{num} minutes ago'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_HOUR</span><span class="token punctuation">,</span>        <span class="token string">'{num} hour ago'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_HOURS</span><span class="token punctuation">,</span>       <span class="token string">'{num} hours ago'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_YESTERDAY</span><span class="token punctuation">,</span>   <span class="token string">'yesterday'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_FORMAT</span><span class="token punctuation">,</span>      <span class="token string">'%e %b'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_FORMAT_YEAR</span><span class="token punctuation">,</span> <span class="token string">'%e %b, %Y'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">time_ago</span><span class="token punctuation">(</span> <span class="token variable">$time</span> <span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$out</span>    <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // what we will print out
</span>        <span class="token variable">$now</span>    <span class="token operator">=</span> <span class="token function">time</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // current time
</span>        <span class="token variable">$diff</span>   <span class="token operator">=</span> <span class="token variable">$now</span> <span class="token operator">-</span> <span class="token variable">$time</span><span class="token punctuation">;</span><span class="token comment" spellcheck="true"> // difference between the current and the provided dates
</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">&lt;</span> <span class="token number">60</span> <span class="token punctuation">)</span><span class="token comment" spellcheck="true"> // it happened now
</span>            <span class="token keyword">return</span> <span class="token constant">TIMEBEFORE_NOW</span><span class="token punctuation">;</span>

        <span class="token keyword">elseif</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">&lt;</span> <span class="token number">3600</span> <span class="token punctuation">)</span><span class="token comment" spellcheck="true"> // it happened X minutes ago
</span>            <span class="token keyword">return</span> <span class="token function">str_replace</span><span class="token punctuation">(</span> <span class="token string">'{num}'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span> <span class="token variable">$out</span> <span class="token operator">=</span> <span class="token function">round</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">/</span> <span class="token number">60</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$out</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token constant">TIMEBEFORE_MINUTE</span> <span class="token punctuation">:</span> <span class="token constant">TIMEBEFORE_MINUTES</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">elseif</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">&lt;</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token punctuation">)</span><span class="token comment" spellcheck="true"> // it happened X hours ago
</span>            <span class="token keyword">return</span> <span class="token function">str_replace</span><span class="token punctuation">(</span> <span class="token string">'{num}'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span> <span class="token variable">$out</span> <span class="token operator">=</span> <span class="token function">round</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">/</span> <span class="token number">3600</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$out</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token constant">TIMEBEFORE_HOUR</span> <span class="token punctuation">:</span> <span class="token constant">TIMEBEFORE_HOURS</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">elseif</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">&lt;</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token comment" spellcheck="true"> // it happened yesterday
</span>            <span class="token keyword">return</span> <span class="token constant">TIMEBEFORE_YESTERDAY</span><span class="token punctuation">;</span>

        <span class="token keyword">else</span><span class="token comment" spellcheck="true"> // falling back on a usual date format as it happened later than yesterday
</span>            <span class="token keyword">return</span> <span class="token function">strftime</span><span class="token punctuation">(</span> <span class="token function">date</span><span class="token punctuation">(</span> <span class="token string">'Y'</span><span class="token punctuation">,</span> <span class="token variable">$time</span> <span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token function">date</span><span class="token punctuation">(</span> <span class="token string">'Y'</span> <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">TIMEBEFORE_FORMAT</span> <span class="token punctuation">:</span> <span class="token constant">TIMEBEFORE_FORMAT_YEAR</span><span class="token punctuation">,</span> <span class="token variable">$time</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token delimiter">?&gt;</span></span></code></pre>
<p>Let’s look at some details of this code.</p>
<ul>
<li>The only argument you must provide is <code class=" language-php"><span class="token variable">$time</span></code>, and it’s a date in <strong>Unix Timestamp</strong> – such as <code class=" language-php"><span class="token function">time_ago</span><span class="token punctuation">(</span> <span class="token number">1442082961</span> <span class="token punctuation">)</span></code>.</li>
<li>Examples of what the function will return in respect of the <code class=" language-php"><span class="token variable">$time</span></code> passed:
<ul>
<li><em>now</em> – if it happened less than 60 seconds ago (<code class=" language-php"><span class="token constant">TIMEBEFORE_NOW</span></code>)</li>
<li>3 minutes ago – if less than 60 minutes ago (<code class=" language-php"><span class="token function">TIMEBEFORE_MINUTE</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span></code>)</li>
<li>8 hours ago – if less than 24 hours ago (<code class=" language-php"><span class="token function">TIMEBEFORE_HOUR</span><span class="token punctuation">(</span>S<span class="token punctuation">)</span></code>)</li>
<li>yesterday – if less than 48 hours ago (<code class=" language-php"><span class="token constant">TIMEBEFORE_YESTERDAY</span></code>)</li>
<li>12 Sep – if more than 48 hours and happened this year (<code class=" language-php"><span class="token constant">TIMEBEFORE_FORMAT</span></code>)</li>
<li>12 Sep, 2015 – if happened not this year (<code class=" language-php"><span class="token constant">TIMEBEFORE_FORMAT_YEAR</span></code>).</li>
</ul>
</li>
<li>The PHP definitions are for separating the config-like data from the function code (it would be a good practice to put all of the <code class=" language-php"><span class="token function">define</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> occurrences into a config file and the function in helpers file).</li>
<li><code class=" language-php"><span class="token punctuation">{</span>num<span class="token punctuation">}</span></code> in definitions are replaced with actual numbers (minutes or hours).</li>
<li>I use <code class=" language-php"><span class="token function">strftime</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> instead of <code class=" language-php"><span class="token function">date</span><span class="token punctuation">(</span><span class="token punctuation">)</span></code> to avoid language/locale <a href="http://stackoverflow.com/questions/5941121/php-strftime-date-or-datetime-which-is-better/5941268#5941268">issues</a>.</li>
</ul>
<p>So, for example, if you want to get this onto your WordPress site, you’d simply write this:</p>
<pre class=" language-php"><code class=" language-php"><span class="token php"><span class="token delimiter">&lt;?</span><span class="token operator">=</span><span class="token function">time_ago</span><span class="token punctuation">(</span> <span class="token function">get_the_time</span><span class="token punctuation">(</span> <span class="token string">'U'</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token delimiter">?&gt;</span></span></code></pre>
<p>Or if it was some other hypothetical CMS:</p>
<pre class=" language-php"><code class="language- language-php"><span class="token delimiter">&lt;?</span><span class="token operator">=</span><span class="token function">time_ago</span><span class="token punctuation">(</span> <span class="token variable">$post</span><span class="token operator">-</span><span class="token operator">&gt;</span><span class="token property">date_created</span> <span class="token punctuation">)</span><span class="token operator">?</span><span class="token operator">&amp;</span>gt</code></pre>
<p>Or the static way:</p>
<pre class=" language-php"><code class="language- language-php"><span class="token php"><span class="token delimiter">&lt;?</span><span class="token operator">=</span><span class="token function">time_ago</span><span class="token punctuation">(</span> <span class="token number">1447571705</span> <span class="token punctuation">)</span><span class="token delimiter">?&gt;</span></span></code></pre>
<h2 id="access">Accessibility &amp; Usability</h2>
<p>There’s a specific HTML element that you should use for presenting dates: <code class=" language-php"><span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>time</span><span class="token punctuation">&gt;</span></span></span></code>. In our case, when using the <code class=" language-php">time_ago</code> function, the value of the time element is not always in a valid date format (like <em>yesterday</em> or <em>3 minutes ago</em>). Therefore, you should also provide a fallback value by using <code class=" language-php"><span class="token punctuation">[</span>datetime<span class="token punctuation">]</span></code> attribute:</p>
<pre class=" language-php"><code class="language- language-php">Published <span class="token operator">&lt;</span>time 
    datetime<span class="token operator">=</span>"<span class="token php"><span class="token delimiter">&lt;?</span><span class="token operator">=</span><span class="token function">date</span><span class="token punctuation">(</span> <span class="token string">'Y-m-d'</span><span class="token punctuation">,</span> <span class="token variable">$time</span> <span class="token punctuation">)</span><span class="token delimiter">?&gt;</span></span>" 
    title<span class="token operator">=</span>"<span class="token php"><span class="token delimiter">&lt;?</span><span class="token operator">=</span><span class="token function">strftime</span><span class="token punctuation">(</span> <span class="token function">date</span><span class="token punctuation">(</span> <span class="token string">'Y'</span><span class="token punctuation">,</span> <span class="token variable">$time</span> <span class="token punctuation">)</span> <span class="token operator">==</span> 
        <span class="token function">date</span><span class="token punctuation">(</span> <span class="token string">'Y'</span> <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token constant">TIMEBEFORE_FORMAT</span> <span class="token punctuation">:</span> <span class="token constant">TIMEBEFORE_FORMAT_YEAR</span><span class="token punctuation">,</span> <span class="token variable">$time</span> <span class="token punctuation">)</span><span class="token delimiter">?&gt;</span></span>"<span class="token operator">&gt;</span>
    <span class="token php"><span class="token delimiter">&lt;?</span><span class="token operator">=</span><span class="token function">time_ago</span><span class="token punctuation">(</span> <span class="token variable">$time</span> <span class="token punctuation">)</span><span class="token delimiter">?&gt;</span></span>
    <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>time</span><span class="token punctuation">&gt;</span></span></span></code></pre>
<p>This would result in better accessibility, for example:</p>
<pre class=" language-php"><code class="language- language-php">Published <span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>time</span> <span class="token attr-name">datetime</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>2015-09-12<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>September 12<span class="token punctuation">"</span></span><span class="token punctuation">&gt;</span></span></span><span class="token number">3</span> minutes ago<span class="token markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>time</span><span class="token punctuation">&gt;</span></span></span></code></pre>
<p>Did you spot the <code class=" language-php"><span class="token punctuation">[</span>title<span class="token punctuation">]</span></code> attribute? It’s a tiny usability improvement: putting the cursor over date text shows a message presented in the title attribute. That’s for the users who, for some reason, were looking for the “real” dates. Here’s a little CSS trick to beef up the feeling that there is something more:</p>
<pre class=" language-css"><code class=" language-css"><span class="token selector">time[title]
</span><span class="token punctuation">{</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> help<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
<p><img src="http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453295818better-way-to-present-time-on-web-2.gif" alt="CSS help cursor" width="760" height="170" class="aligncenter size-full wp-image-123041"></p>
<h2 id="js">JavaScript Enhancement</h2>
<p>There’s one more thing we can do! Have you noticed that Facebook also increments the dates in real time? Just watch at <strong>3 mins</strong> for a minute and it will turn into <strong>4 mins</strong> and so on. So, there are types of websites were this works out as a really nice enhancement. It wouldn’t be useful on an article post like this, but It’s perfect on a site like <a href="http://readerrr.com/">Readerrr</a>:</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token operator">&lt;</span>time data<span class="token operator">-</span>time<span class="token operator">=</span><span class="token string">"&lt;?=$time?&gt;"</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span></code></pre>
<p>Finally, we need to convert the PHP code into a JavaScript equivalent. I’ve done this for you in vanilla JS (though a jQuery version is available as well). The script walks through each <code class=" language-php">time<span class="token punctuation">[</span>data<span class="token operator">-</span>time<span class="token punctuation">]</span></code> element once every minute (<code class=" language-php"><span class="token function">setTimeout</span><span class="token punctuation">(</span> updateDates<span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token punctuation">)</span></code>) and updates the values:</p>
<pre class=" language-javascript"><code class=" language-javascript"><span class="token comment" spellcheck="true">// ...</span>
<span class="token keyword">var</span> elements    <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span> <span class="token string">'time[data-time]'</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
    updateDates <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        Array<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>forEach<span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elements<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> entry <span class="token punctuation">)</span>
        <span class="token punctuation">{</span>
            <span class="token keyword">var</span> out <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">;</span>
            <span class="token comment" spellcheck="true">// ...</span>
            entry<span class="token punctuation">.</span>textContent <span class="token operator">=</span> out<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setTimeout</span><span class="token punctuation">(</span> updateDates<span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">setTimeout</span><span class="token punctuation">(</span> updateDates<span class="token punctuation">,</span> <span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">// ...</span></code></pre>
<p><img src="http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453295863better-way-to-present-time-on-web-3.gif" alt="A JavaScript demo" width="760" height="170" class="aligncenter size-full wp-image-123042"></p>
<h3 id="demo">Online Demo and Code Download</h3>
<p>You can check out an <a href="http://osvaldas.info/examples/counting-ago-time/">online demo</a> of the above code or <a href="http://dab1nmslvvntp.cloudfront.net/wp-content/uploads/2016/01/1453295930ago-time.zip">download</a> the full demo code.</p>
<h2 id="more">One more thing</h2>
<p>In the examples above, the full date is presented if the activity has occurred three or more days ago. But it’s quite easy to extend the script for presenting the time in the ways like <strong>5 days ago</strong>, <strong>2 weeks ago</strong> and <strong>1 month ago</strong>, and so on:</p>
<pre class=" language-php"><code class="language- language-php"><span class="token comment" spellcheck="true">// ...
</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_DAYS</span><span class="token punctuation">,</span>    <span class="token string">'{num} days ago'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_WEEK</span><span class="token punctuation">,</span>    <span class="token string">'{num} week ago'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_WEEKS</span><span class="token punctuation">,</span>   <span class="token string">'{num} weeks ago'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_MONTH</span><span class="token punctuation">,</span>   <span class="token string">'{num} month ago'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">define</span><span class="token punctuation">(</span> <span class="token constant">TIMEBEFORE_MONTHS</span><span class="token punctuation">,</span>  <span class="token string">'{num} months ago'</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">time_before</span><span class="token punctuation">(</span> <span class="token variable">$time</span> <span class="token punctuation">)</span>
<span class="token punctuation">{</span>
   <span class="token comment" spellcheck="true"> // ...
</span>
    <span class="token keyword">elseif</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">&lt;</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token function">str_replace</span><span class="token punctuation">(</span> <span class="token string">'{num}'</span><span class="token punctuation">,</span> <span class="token function">round</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">/</span> <span class="token punctuation">(</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">TIMEBEFORE_DAYS</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">elseif</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">&lt;</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token function">str_replace</span><span class="token punctuation">(</span> <span class="token string">'{num}'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span> <span class="token variable">$out</span> <span class="token operator">=</span> <span class="token function">round</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">/</span> <span class="token punctuation">(</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$out</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token constant">TIMEBEFORE_WEEK</span> <span class="token punctuation">:</span> <span class="token constant">TIMEBEFORE_WEEKS</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">elseif</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">&lt;</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token operator">*</span> <span class="token number">12</span> <span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token function">str_replace</span><span class="token punctuation">(</span> <span class="token string">'{num}'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span> <span class="token variable">$out</span> <span class="token operator">=</span> <span class="token function">round</span><span class="token punctuation">(</span> <span class="token variable">$diff</span> <span class="token operator">/</span> <span class="token punctuation">(</span> <span class="token number">3600</span> <span class="token operator">*</span> <span class="token number">24</span> <span class="token operator">*</span> <span class="token number">7</span> <span class="token operator">*</span> <span class="token number">4</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token variable">$out</span> <span class="token operator">==</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token constant">TIMEBEFORE_MONTH</span> <span class="token punctuation">:</span> <span class="token constant">TIMEBEFORE_MONTHS</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">else</span>
       <span class="token comment" spellcheck="true"> // ...
</span><span class="token punctuation">}</span></code></pre>
<h2 id="wrap">Wrap Up</h2>
<p>User experience and satisfaction is in details. Sometimes a simple detail – such as a dynamic date format – is enough to make our websites a little bit better.</p>
<p>So, what do you think of this solution? Would you consider using it on your next project? Do you have any questions about it? Please let me know in the comments.</p>
<p>By the way, I hope somebody can tell Instagram people that <strong>122w</strong> isn’t cool, and that <strong>2.4yrs</strong> would be much easier to understand. That would be better, wouldn’t it?</p>
  