---
title: "GraphQL Core Concepts Tutorial"
description: "GraphQL Core Concepts Tutorial"
link: "https://www.howtographql.com/basics/2-core-concepts/"
saved: "2018-01-09 17:32:27"
---
<p><span>In this chapter, you’ll learn about some fundamental language constructs of GraphQL. That includes a first glimpse at the syntax for defining </span><em><span>types</span></em><span> as well as sending </span><em><span>queries</span></em><span> and </span><em><span>mutations</span></em><span>. We also prepared a sandbox environment for you, based on </span><a href="https://github.com/graphcool/graphql-up" target="_blank"><span>graphql-up</span></a><span>, that you can use to experiment with what you learn.  </span></p><span>
</span><h3><span>The Schema Definition Language (SDL)</span></h3><span>
</span><p><span>GraphQL has its own type system that’s used to define the </span><em><span>schema</span></em><span> of an API. The syntax for writing schemas is called </span><a href="https://www.graph.cool/docs/faq/graphql-sdl-schema-definition-language-kr84dktnp0/" target="_blank"><span>Schema Definition Language</span></a><span> (SDL).</span></p><span>
</span><p><span>Here is an example how we can use the SDL to define a simple type called </span><code><span>Person</span></code><span>:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 2184 --><pre class="language-graphql" data-jsx="2641201535"><code><span>type Person </span><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token attr-name"><span>name</span></span><span class="token punctuation"><span>:</span></span><span> String</span><span class="token operator"><span>!</span></span><span>
  </span><span class="token attr-name"><span>age</span></span><span class="token punctuation"><span>:</span></span><span> Int</span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><span>This type has two </span><em><span>fields</span></em><span>, they’re called </span><code><span>name</span></code><span> and </span><code><span>age</span></code><span> and are respectively of type </span><code><span>String</span></code><span> and </span><code><span>Int</span></code><span>. The </span><code><span>!</span></code><span> following the type means that this field is </span><em><span>required</span></em><span>.</span></p><span>
</span><p><span>It’s also possible to express relationships between types. In the example of a </span><em><span>blogging</span></em><span> application, a </span><code><span>Person</span></code><span> could be associated with a </span><code><span>Post</span></code><span>:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 2245 --><pre class="language-graphql" data-jsx="2641201535"><code><span>type Post </span><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token attr-name"><span>title</span></span><span class="token punctuation"><span>:</span></span><span> String</span><span class="token operator"><span>!</span></span><span>
  </span><span class="token attr-name"><span>author</span></span><span class="token punctuation"><span>:</span></span><span> Person</span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><span>Conversely, the other end of the relationship needs to be placed on the </span><code><span>Person</span></code><span> type:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 2280 --><pre class="language-graphql" data-jsx="2641201535"><code><span>type Person </span><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token attr-name"><span>name</span></span><span class="token punctuation"><span>:</span></span><span> String</span><span class="token operator"><span>!</span></span><span>
  </span><span class="token attr-name"><span>age</span></span><span class="token punctuation"><span>:</span></span><span> Int</span><span class="token operator"><span>!</span></span><span>
  </span><span class="token attr-name"><span>posts</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token punctuation"><span>[</span></span><span>Post</span><span class="token operator"><span>!</span></span><span class="token punctuation"><span>]</span></span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><span>Note that we just created a </span><em><span>one-to-many</span></em><span>-relationship between </span><code><span>Person</span></code><span> and </span><code><span>Post</span></code><span> since the </span><code><span>posts</span></code><span> field on </span><code><span>Person</span></code><span> is actually an </span><em><span>array</span></em><span> of posts.</span></p><span>
</span><h3><span>Fetching Data with Queries</span></h3><span>
</span><p><span>When working with REST APIs, data is loaded from specific endpoints. Each endpoint has a clearly defined structure of the information that it returns. This means that the data requirements of a client are effectively </span><em><span>encoded</span></em><span> in the URL that it connects to.</span></p><span>
</span><p><span>The approach that’s taken in GraphQL is radically different. Instead of having multiple endpoints that return fixed data structures, GraphQL APIs typically only expose </span><em><span>a single endpoint</span></em><span>. This works because the structure of the data that’s returned is not fixed. Instead, it’s completely flexible and lets the client decide what data is actually needed. </span></p><span>
</span><p><span>That means that the client needs to send more </span><em><span>information</span></em><span> to the server to express its data needs - this information is called a </span><em><span>query</span></em><span>.</span></p><span>
</span><h4><span>Basic Queries</span></h4><span>
</span><p><span>Let’s take a look at an example query that a client could send to a server:</span></p><span>
</span><div class="container docs-graphiql" data-jsx="3973402846"><!-- react-empty: 2358 --><!-- react-empty: 2359 --><span></span><div class="graphiql hint visible" data-jsx="3973402846"><div class="graphiql-container" data-jsx="491787499"><!-- react-empty: 2363 --><!-- react-empty: 2364 --><div class="editorWrap" data-jsx="491787499"><div class="editorBar" data-jsx="491787499"><div class="queryWrap" data-jsx="491787499"><span></span><div class="query-editor"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-punctuation">{</span></span></pre></div><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-property">allPersons</span><span class="cm-ws"> </span><span class="cm-punctuation">{</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">    </span><span class="cm-property">name</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-punctuation">}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-punctuation">}</span></span></pre></div></div></div></div></div><div></div><div class="CodeMirror-gutters"></div></div></div></div><div class="variable-editor" data-jsx="491787499"><div class="variable-editor-title" data-jsx="491787499">Query Variables</div><div class="codemirrorWrap"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"><pre class="CodeMirror-line" role="presentation"><span role="presentation"><span cm-text="">&nbsp;</span></span></pre></div><div></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation"></div></div></div></div></div><div></div><div class="CodeMirror-gutters"><div class="CodeMirror-gutter CodeMirror-linenumbers"></div><div class="CodeMirror-gutter CodeMirror-foldgutter"></div></div></div></div></div></div></div><div class="resultWrap" data-jsx="491787499"><div class="result-header subscription" data-jsx="3076978164"><!-- react-empty: 2375 --><div class="inner" data-jsx="3076978164"><div data-jsx="3076978164"><div class="editor-title" data-jsx="3076978164">Response</div></div></div></div><div class="execute-button-wrap" data-jsx="1087431325"><!-- react-empty: 2380 --><div class="graphcool-execute-button" title="Execute Query (Ctrl-Enter)" data-jsx="1087431325"><svg width="20" height="20" viewBox="0 0 36 37" data-jsx="1087431325"><path d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path></svg></div></div><div class="result-window" data-jsx="491787499"></div><div class="intro" data-jsx="491787499">Hit the Play Button to get a response here</div></div></div></div><div class="docExplorerWrap" data-jsx="491787499"><div class="docs-button inactive" data-jsx="491787499">Docs</div><div class="docExplorerResizer" data-jsx="491787499"></div></div></div><div class="run" data-jsx="3973402846"><div class="btn small" data-jsx="3973402846"><div class="btn-inner" data-jsx="3973402846"><i><!--?xml version="1.0" encoding="utf-8"?-->
<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg stroke="none" fill="white" version="1.1" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 36 37" xml:space="preserve">
<path id="XMLID_3_" d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path>
</svg>
</i><span data-jsx="3973402846">Run in Sandbox</span></div></div></div></div><div class="datatables" data-jsx="3973402846"><div class="data-tables" data-jsx="1883612313"><!-- react-empty: 2396 --><div class="table" data-jsx="576080252"><!-- react-empty: 2398 --><div class="title" data-jsx="576080252">Person</div></div><div class="table" data-jsx="576080252"><!-- react-empty: 2401 --><div class="title" data-jsx="576080252">Post</div></div></div></div></div><span>
</span><p><span>The </span><code><span>allPersons</span></code><span> field in this query is called the </span><em><span>root field</span></em><span> of the query. Everything that follows the root field, is called the </span><em><span>payload</span></em><span> of the query. The only field that’s specified in this query’s payload is </span><code><span>name</span></code><span>.</span></p><span>
</span><p><span>This query would return a list of all persons currently stored in the database. Here’s an example response:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 2418 --><pre class="language-js" data-jsx="2641201535"><code><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token string"><span>"allPersons"</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token punctuation"><span>[</span></span><span>
    </span><span class="token punctuation"><span>{</span></span><span> </span><span class="token string"><span>"name"</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token string"><span>"Johnny"</span></span><span> </span><span class="token punctuation"><span>}</span></span><span class="token punctuation"><span>,</span></span><span>
    </span><span class="token punctuation"><span>{</span></span><span> </span><span class="token string"><span>"name"</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token string"><span>"Sarah"</span></span><span> </span><span class="token punctuation"><span>}</span></span><span class="token punctuation"><span>,</span></span><span>
    </span><span class="token punctuation"><span>{</span></span><span> </span><span class="token string"><span>"name"</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token string"><span>"Alice"</span></span><span> </span><span class="token punctuation"><span>}</span></span><span>
  </span><span class="token punctuation"><span>]</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><span>Notice that each person only has the </span><code><span>name</span></code><span> in the response, but the </span><code><span>age</span></code><span> is not returned by the server. That’s exactly because </span><code><span>name</span></code><span> was the only field that was specified in the query.</span></p><span>
</span><p><span>If the client also needed the persons’ </span><code><span>age</span></code><span>, all it has to do is slightly adjust the query and include the new field in the query’s payload:</span></p><span>
</span><div class="container docs-graphiql" data-jsx="3973402846"><!-- react-empty: 2497 --><!-- react-empty: 2498 --><span></span><div class="graphiql hint visible" data-jsx="3973402846"><div class="graphiql-container" data-jsx="491787499"><!-- react-empty: 2502 --><!-- react-empty: 2503 --><div class="editorWrap" data-jsx="491787499"><div class="editorBar" data-jsx="491787499"><div class="queryWrap" data-jsx="491787499"><span></span><div class="query-editor"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-punctuation">{</span></span></pre></div><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-property">allPersons</span><span class="cm-ws"> </span><span class="cm-punctuation">{</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">    </span><span class="cm-property">name</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">    </span><span class="cm-property">age</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-punctuation">}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-punctuation">}</span></span></pre></div></div></div></div></div><div></div><div class="CodeMirror-gutters"></div></div></div></div><div class="variable-editor" data-jsx="491787499"><div class="variable-editor-title" data-jsx="491787499">Query Variables</div><div class="codemirrorWrap"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"><pre class="CodeMirror-line" role="presentation"><span role="presentation"><span cm-text="">&nbsp;</span></span></pre></div><div></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation"></div></div></div></div></div><div></div><div class="CodeMirror-gutters"><div class="CodeMirror-gutter CodeMirror-linenumbers"></div><div class="CodeMirror-gutter CodeMirror-foldgutter"></div></div></div></div></div></div></div><div class="resultWrap" data-jsx="491787499"><div class="result-header subscription" data-jsx="3076978164"><!-- react-empty: 2514 --><div class="inner" data-jsx="3076978164"><div data-jsx="3076978164"><div class="editor-title" data-jsx="3076978164">Response</div></div></div></div><div class="execute-button-wrap" data-jsx="1087431325"><!-- react-empty: 2519 --><div class="graphcool-execute-button" title="Execute Query (Ctrl-Enter)" data-jsx="1087431325"><svg width="20" height="20" viewBox="0 0 36 37" data-jsx="1087431325"><path d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path></svg></div></div><div class="result-window" data-jsx="491787499"></div><div class="intro" data-jsx="491787499">Hit the Play Button to get a response here</div></div></div></div><div class="docExplorerWrap" data-jsx="491787499"><div class="docs-button inactive" data-jsx="491787499">Docs</div><div class="docExplorerResizer" data-jsx="491787499"></div></div></div><div class="run" data-jsx="3973402846"><div class="btn small" data-jsx="3973402846"><div class="btn-inner" data-jsx="3973402846"><i><!--?xml version="1.0" encoding="utf-8"?-->
<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg stroke="none" fill="white" version="1.1" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 36 37" xml:space="preserve">
<path id="XMLID_3_" d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path>
</svg>
</i><span data-jsx="3973402846">Run in Sandbox</span></div></div></div></div><div class="datatables" data-jsx="3973402846"><div class="data-tables" data-jsx="1883612313"><!-- react-empty: 2535 --><div class="table" data-jsx="576080252"><!-- react-empty: 2537 --><div class="title" data-jsx="576080252">Person</div></div><div class="table" data-jsx="576080252"><!-- react-empty: 2540 --><div class="title" data-jsx="576080252">Post</div></div></div></div></div><span>
</span><p><span>One of the major advantages of GraphQL is that it allows for naturally querying </span><em><span>nested</span></em><span> information. For example, if you wanted to load all the </span><code><span>posts</span></code><span> that a </span><code><span>Person</span></code><span> has written, you could simply follow the structure of your types to request this information:</span></p><span>
</span><div class="container docs-graphiql" data-jsx="3973402846"><!-- react-empty: 2549 --><!-- react-empty: 2550 --><span></span><div class="graphiql hint visible" data-jsx="3973402846"><div class="graphiql-container" data-jsx="491787499"><!-- react-empty: 2554 --><!-- react-empty: 2555 --><div class="editorWrap" data-jsx="491787499"><div class="editorBar" data-jsx="491787499"><div class="queryWrap" data-jsx="491787499"><span></span><div class="query-editor"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-punctuation">{</span></span></pre></div><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-property">allPersons</span><span class="cm-ws"> </span><span class="cm-punctuation">{</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">    </span><span class="cm-property">name</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">    </span><span class="cm-property">age</span></span></pre><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">    </span><span class="cm-property">posts</span><span class="cm-ws"> </span><span class="cm-punctuation">{</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">      </span><span class="cm-property">title</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">    </span><span class="cm-punctuation">}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-punctuation">}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-punctuation">}</span></span></pre></div></div></div></div></div><div></div><div class="CodeMirror-gutters"></div></div></div></div><div class="variable-editor" data-jsx="491787499"><div class="variable-editor-title" data-jsx="491787499">Query Variables</div><div class="codemirrorWrap"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"><pre class="CodeMirror-line" role="presentation"><span role="presentation"><span cm-text="">&nbsp;</span></span></pre></div><div></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation"></div></div></div></div></div><div></div><div class="CodeMirror-gutters"><div class="CodeMirror-gutter CodeMirror-linenumbers"></div><div class="CodeMirror-gutter CodeMirror-foldgutter"></div></div></div></div></div></div></div><div class="resultWrap" data-jsx="491787499"><div class="result-header subscription" data-jsx="3076978164"><!-- react-empty: 2566 --><div class="inner" data-jsx="3076978164"><div data-jsx="3076978164"><div class="editor-title" data-jsx="3076978164">Response</div></div></div></div><div class="execute-button-wrap" data-jsx="1087431325"><!-- react-empty: 2571 --><div class="graphcool-execute-button" title="Execute Query (Ctrl-Enter)" data-jsx="1087431325"><svg width="20" height="20" viewBox="0 0 36 37" data-jsx="1087431325"><path d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path></svg></div></div><div class="result-window" data-jsx="491787499"></div><div class="intro" data-jsx="491787499">Hit the Play Button to get a response here</div></div></div></div><div class="docExplorerWrap" data-jsx="491787499"><div class="docs-button inactive" data-jsx="491787499">Docs</div><div class="docExplorerResizer" data-jsx="491787499"></div></div></div><div class="run" data-jsx="3973402846"><div class="btn small" data-jsx="3973402846"><div class="btn-inner" data-jsx="3973402846"><i><!--?xml version="1.0" encoding="utf-8"?-->
<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg stroke="none" fill="white" version="1.1" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 36 37" xml:space="preserve">
<path id="XMLID_3_" d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path>
</svg>
</i><span data-jsx="3973402846">Run in Sandbox</span></div></div></div></div><div class="datatables" data-jsx="3973402846"><div class="data-tables" data-jsx="1883612313"><!-- react-empty: 2587 --><div class="table" data-jsx="576080252"><!-- react-empty: 2589 --><div class="title" data-jsx="576080252">Person</div></div><div class="table" data-jsx="576080252"><!-- react-empty: 2592 --><div class="title" data-jsx="576080252">Post</div></div></div></div></div><span>
</span><h4><span>Queries with Arguments</span></h4><span>
</span><p><span>In GraphQL, each </span><em><span>field</span></em><span> can have zero or more arguments if that’s specified in the </span><em><span>schema</span></em><span>. For example, the </span><code><span>allPersons</span></code><span> field could have a </span><code><span>last</span></code><span> parameter to only return up to a specific number of persons. Here’s what a corresponding query would look like:</span></p><span>
</span><div class="container docs-graphiql" data-jsx="3973402846"><!-- react-empty: 2613 --><!-- react-empty: 2614 --><span></span><div class="graphiql hint visible" data-jsx="3973402846"><div class="graphiql-container" data-jsx="491787499"><!-- react-empty: 2618 --><!-- react-empty: 2619 --><div class="editorWrap" data-jsx="491787499"><div class="editorBar" data-jsx="491787499"><div class="queryWrap" data-jsx="491787499"><span></span><div class="query-editor"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-punctuation">{</span></span></pre></div><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-property">allPersons</span><span class="cm-punctuation">(</span><span class="cm-attribute">last</span><span class="cm-punctuation">:</span><span class="cm-ws"> </span><span class="cm-number">2</span><span class="cm-punctuation">)</span><span class="cm-ws"> </span><span class="cm-punctuation">{</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">    </span><span class="cm-property">name</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-punctuation">}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-punctuation">}</span></span></pre></div></div></div></div></div><div></div><div class="CodeMirror-gutters"></div></div></div></div><div class="variable-editor" data-jsx="491787499"><div class="variable-editor-title" data-jsx="491787499">Query Variables</div><div class="codemirrorWrap"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"><pre class="CodeMirror-line" role="presentation"><span role="presentation"><span cm-text="">&nbsp;</span></span></pre></div><div></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation"></div></div></div></div></div><div></div><div class="CodeMirror-gutters"><div class="CodeMirror-gutter CodeMirror-linenumbers"></div><div class="CodeMirror-gutter CodeMirror-foldgutter"></div></div></div></div></div></div></div><div class="resultWrap" data-jsx="491787499"><div class="result-header subscription" data-jsx="3076978164"><!-- react-empty: 2630 --><div class="inner" data-jsx="3076978164"><div data-jsx="3076978164"><div class="editor-title" data-jsx="3076978164">Response</div></div></div></div><div class="execute-button-wrap" data-jsx="1087431325"><!-- react-empty: 2635 --><div class="graphcool-execute-button" title="Execute Query (Ctrl-Enter)" data-jsx="1087431325"><svg width="20" height="20" viewBox="0 0 36 37" data-jsx="1087431325"><path d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path></svg></div></div><div class="result-window" data-jsx="491787499"></div><div class="intro" data-jsx="491787499">Hit the Play Button to get a response here</div></div></div></div><div class="docExplorerWrap" data-jsx="491787499"><div class="docs-button inactive" data-jsx="491787499">Docs</div><div class="docExplorerResizer" data-jsx="491787499"></div></div></div><div class="run" data-jsx="3973402846"><div class="btn small" data-jsx="3973402846"><div class="btn-inner" data-jsx="3973402846"><i><!--?xml version="1.0" encoding="utf-8"?-->
<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg stroke="none" fill="white" version="1.1" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 36 37" xml:space="preserve">
<path id="XMLID_3_" d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path>
</svg>
</i><span data-jsx="3973402846">Run in Sandbox</span></div></div></div></div><div class="datatables" data-jsx="3973402846"><div class="data-tables" data-jsx="1883612313"><!-- react-empty: 2651 --><div class="table" data-jsx="576080252"><!-- react-empty: 2653 --><div class="title" data-jsx="576080252">Person</div></div><div class="table" data-jsx="576080252"><!-- react-empty: 2656 --><div class="title" data-jsx="576080252">Post</div></div></div></div></div><span>
</span><h3><span>Writing Data with Mutations</span></h3><span>
</span><p><span>Next to requesting information from a server, the majority of applications also need some way of making changes to the data that’s currently stored in the backend. With GraphQL, these changes are made using so-called </span><em><span>mutations</span></em><span>. There generally are three kinds of mutations:</span></p><span>
</span><ul><span>
</span><li><span>creating new data</span></li><span>
</span><li><span>updating existing data</span></li><span>
</span><li><span>deleting existing data</span></li><span>
</span></ul><span>
</span><p><span>Mutations follow the same syntactical structure as queries, but they always need to start with the </span><code><span>mutation</span></code><span> keyword. Here’s an example for how we might create a new </span><code><span>Person</span></code><span>:</span></p><span>
</span><div class="container docs-graphiql" data-jsx="3973402846"><!-- react-empty: 2690 --><!-- react-empty: 2691 --><span></span><div class="graphiql hint visible" data-jsx="3973402846"><div class="graphiql-container" data-jsx="491787499"><!-- react-empty: 2695 --><!-- react-empty: 2696 --><div class="editorWrap" data-jsx="491787499"><div class="editorBar" data-jsx="491787499"><div class="queryWrap" data-jsx="491787499"><span></span><div class="query-editor"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-keyword">mutation</span><span class="cm-ws"> </span><span class="cm-punctuation">{</span></span></pre></div><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-property">createPerson</span><span class="cm-punctuation">(</span><span class="cm-attribute">name</span><span class="cm-punctuation">:</span><span class="cm-ws"> </span><span class="cm-string">"Bob"</span><span class="cm-ws">, </span><span class="cm-attribute">age</span><span class="cm-punctuation">:</span><span class="cm-ws"> </span><span class="cm-number">36</span><span class="cm-punctuation">)</span><span class="cm-ws"> </span><span class="cm-punctuation">{</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">    </span><span class="cm-property">name</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">    </span><span class="cm-property">age</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-punctuation">}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-punctuation">}</span></span></pre></div></div></div></div></div><div></div><div class="CodeMirror-gutters"></div></div></div></div><div class="variable-editor" data-jsx="491787499"><div class="variable-editor-title" data-jsx="491787499">Query Variables</div><div class="codemirrorWrap"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"><pre class="CodeMirror-line" role="presentation"><span role="presentation"><span cm-text="">&nbsp;</span></span></pre></div><div></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation"></div></div></div></div></div><div></div><div class="CodeMirror-gutters"><div class="CodeMirror-gutter CodeMirror-linenumbers"></div><div class="CodeMirror-gutter CodeMirror-foldgutter"></div></div></div></div></div></div></div><div class="resultWrap" data-jsx="491787499"><div class="result-header subscription" data-jsx="3076978164"><!-- react-empty: 2707 --><div class="inner" data-jsx="3076978164"><div data-jsx="3076978164"><div class="editor-title" data-jsx="3076978164">Response</div></div></div></div><div class="execute-button-wrap" data-jsx="1087431325"><!-- react-empty: 2712 --><div class="graphcool-execute-button" title="Execute Query (Ctrl-Enter)" data-jsx="1087431325"><svg width="20" height="20" viewBox="0 0 36 37" data-jsx="1087431325"><path d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path></svg></div></div><div class="result-window" data-jsx="491787499"></div><div class="intro" data-jsx="491787499">Hit the Play Button to get a response here</div></div></div></div><div class="docExplorerWrap" data-jsx="491787499"><div class="docs-button inactive" data-jsx="491787499">Docs</div><div class="docExplorerResizer" data-jsx="491787499"></div></div></div><div class="run" data-jsx="3973402846"><div class="btn small" data-jsx="3973402846"><div class="btn-inner" data-jsx="3973402846"><i><!--?xml version="1.0" encoding="utf-8"?-->
<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg stroke="none" fill="white" version="1.1" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 36 37" xml:space="preserve">
<path id="XMLID_3_" d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path>
</svg>
</i><span data-jsx="3973402846">Run in Sandbox</span></div></div></div></div><div class="datatables" data-jsx="3973402846"><div class="data-tables" data-jsx="1883612313"><!-- react-empty: 2728 --><div class="table" data-jsx="576080252"><!-- react-empty: 2730 --><div class="title" data-jsx="576080252">Person</div></div><div class="table" data-jsx="576080252"><!-- react-empty: 2733 --><div class="title" data-jsx="576080252">Post</div></div></div></div></div><span>
</span><p><span>Notice that similar to the query we wrote before, the mutation also has a </span><em><span>root field</span></em><span> - in this case it’s called </span><code><span>createPerson</span></code><span>. We also already learned about the concepts of arguments for fields. In this case, the </span><code><span>createPerson</span></code><span> field takes two arguments that specify the new person’s </span><code><span>name</span></code><span> and </span><code><span>age</span></code><span>.</span></p><span>
</span><p><span>Like with a query, we’re also able to specify a payload for a mutation in which we can ask for different properties of the new </span><code><span>Person</span></code><span> object. In our case, we’re asking for the </span><code><span>name</span></code><span> and the </span><code><span>age</span></code><span> - though admittedly that’s not super helpful in our example since we obviously already know them as we pass them into the mutation. However, being able to also query information when sending mutations can be a very powerful tool that allows you to retrieve new information from the server in a single roundtrip! </span></p><span>
</span><p><span>The server response for the above mutation would look as follows:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 2772 --><pre class="language-js" data-jsx="2641201535"><code><span class="token string"><span>"createPerson"</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token string"><span>"name"</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token string"><span>"Bob"</span></span><span class="token punctuation"><span>,</span></span><span>
  </span><span class="token string"><span>"age"</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token string"><span>"36"</span></span><span class="token punctuation"><span>,</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><span>One pattern you’ll often find is that GraphQL types have unique </span><em><span>IDs</span></em><span> that are generated by the server when new objects are created. Extending our </span><code><span>Person</span></code><span> type from before, we could add an </span><code><span>id</span></code><span> like this:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 2823 --><pre class="language-graphql" data-jsx="2641201535"><code><span>type Person </span><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token attr-name"><span>id</span></span><span class="token punctuation"><span>:</span></span><span> ID</span><span class="token operator"><span>!</span></span><span>
  </span><span class="token attr-name"><span>name</span></span><span class="token punctuation"><span>:</span></span><span> String</span><span class="token operator"><span>!</span></span><span>
  </span><span class="token attr-name"><span>age</span></span><span class="token punctuation"><span>:</span></span><span> Int</span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><span>Now, when a new </span><code><span>Person</span></code><span> is created, you could directly ask for the </span><code><span>id</span></code><span> in the payload of the mutation, since that is information that wasn’t available on the client beforehand:</span></p><span>
</span><div class="container docs-graphiql" data-jsx="3973402846"><!-- react-empty: 2869 --><!-- react-empty: 2870 --><span></span><div class="graphiql hint visible" data-jsx="3973402846"><div class="graphiql-container" data-jsx="491787499"><!-- react-empty: 2874 --><!-- react-empty: 2875 --><div class="editorWrap" data-jsx="491787499"><div class="editorBar" data-jsx="491787499"><div class="queryWrap" data-jsx="491787499"><span></span><div class="query-editor"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"></div><div class="CodeMirror-measure"></div><div></div><div class="CodeMirror-cursors"><div class="CodeMirror-cursor">&nbsp;</div></div><div class="CodeMirror-code" role="presentation"><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-keyword">mutation</span><span class="cm-ws"> </span><span class="cm-punctuation">{</span></span></pre></div><div><div class="CodeMirror-gutter-wrapper"></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-property">createPerson</span><span class="cm-punctuation">(</span><span class="cm-attribute">name</span><span class="cm-punctuation">:</span><span class="cm-ws"> </span><span class="cm-string">"Alice"</span><span class="cm-ws">, </span><span class="cm-attribute">age</span><span class="cm-punctuation">:</span><span class="cm-ws"> </span><span class="cm-number">36</span><span class="cm-punctuation">)</span><span class="cm-ws"> </span><span class="cm-punctuation">{</span></span></pre></div><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">    </span><span class="cm-property">id</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-ws">  </span><span class="cm-punctuation">}</span></span></pre><pre class=" CodeMirror-line " role="presentation"><span role="presentation"><span class="cm-punctuation">}</span></span></pre></div></div></div></div></div><div></div><div class="CodeMirror-gutters"></div></div></div></div><div class="variable-editor" data-jsx="491787499"><div class="variable-editor-title" data-jsx="491787499">Query Variables</div><div class="codemirrorWrap"><div class="CodeMirror cm-s-graphiql"><div></div><div class="CodeMirror-vscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-hscrollbar" cm-not-content="true"><div></div></div><div class="CodeMirror-scrollbar-filler" cm-not-content="true"></div><div class="CodeMirror-gutter-filler" cm-not-content="true"></div><div class="CodeMirror-scroll" tabindex="-1"><div class="CodeMirror-sizer"><div><div class="CodeMirror-lines" role="presentation"><div role="presentation"><div class="CodeMirror-measure"><span><span>​</span>x</span></div><div class="CodeMirror-measure"><pre class="CodeMirror-line" role="presentation"><span role="presentation"><span cm-text="">&nbsp;</span></span></pre></div><div></div><div class="CodeMirror-cursors"></div><div class="CodeMirror-code" role="presentation"></div></div></div></div></div><div></div><div class="CodeMirror-gutters"><div class="CodeMirror-gutter CodeMirror-linenumbers"></div><div class="CodeMirror-gutter CodeMirror-foldgutter"></div></div></div></div></div></div></div><div class="resultWrap" data-jsx="491787499"><div class="result-header subscription" data-jsx="3076978164"><!-- react-empty: 2886 --><div class="inner" data-jsx="3076978164"><div data-jsx="3076978164"><div class="editor-title" data-jsx="3076978164">Response</div></div></div></div><div class="execute-button-wrap" data-jsx="1087431325"><!-- react-empty: 2891 --><div class="graphcool-execute-button" title="Execute Query (Ctrl-Enter)" data-jsx="1087431325"><svg width="20" height="20" viewBox="0 0 36 37" data-jsx="1087431325"><path d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path></svg></div></div><div class="result-window" data-jsx="491787499"></div><div class="intro" data-jsx="491787499">Hit the Play Button to get a response here</div></div></div></div><div class="docExplorerWrap" data-jsx="491787499"><div class="docs-button inactive" data-jsx="491787499">Docs</div><div class="docExplorerResizer" data-jsx="491787499"></div></div></div><div class="run" data-jsx="3973402846"><div class="btn small" data-jsx="3973402846"><div class="btn-inner" data-jsx="3973402846"><i><!--?xml version="1.0" encoding="utf-8"?-->
<!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  -->
<svg stroke="none" fill="white" version="1.1" id="Ebene_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 36 37" xml:space="preserve">
<path id="XMLID_3_" d="M0.02,2.23v32.54c0,1.47,1.52,2.42,2.81,1.76l32.08-16.27c1.43-0.73,1.43-2.8,0-3.53L2.83,0.47
	C2.54,0.32,2.25,0.25,1.96,0.25C0.94,0.25,0.02,1.09,0.02,2.23z"></path>
</svg>
</i><span data-jsx="3973402846">Run in Sandbox</span></div></div></div></div><div class="datatables" data-jsx="3973402846"><div class="data-tables" data-jsx="1883612313"><!-- react-empty: 2907 --><div class="table" data-jsx="576080252"><!-- react-empty: 2909 --><div class="title" data-jsx="576080252">Person</div></div><div class="table" data-jsx="576080252"><!-- react-empty: 2912 --><div class="title" data-jsx="576080252">Post</div></div></div></div></div><span>
</span><h3><span>Realtime Updates with Subscriptions</span></h3><span>
</span><p><span>Another important requirement for many applications today is to have a </span><em><span>realtime</span></em><span> connection to the server in order to get immediately informed about important events. For this use case, GraphQL offers the concept of </span><em><span>subscriptions</span></em><span>. </span></p><span>
</span><p><span>When a client </span><em><span>subscribes</span></em><span> to an event, it will initiate and hold a steady connection to the server. Whenever that particular event then actually happens, the server pushes the corresponding data to the client. Unlike queries and mutations that follow a typical “</span><em><span>request-response</span></em><span>-cycle”, subscriptions represent a </span><em><span>stream</span></em><span> of data sent over to the client.</span></p><span>
</span><p><span>Subscriptions are written using the same syntax as queries and mutations. Here’s an example where we subscribe on events happening on the </span><code><span>Person</span></code><span> type:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 2948 --><pre class="language-graphql" data-jsx="2641201535"><code><span>subscription </span><span class="token punctuation"><span>{</span></span><span>
  newPerson </span><span class="token punctuation"><span>{</span></span><span>
    name
    age
  </span><span class="token punctuation"><span>}</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><span>After a client sent this subscription to a server, a connection is opened between them. Then, whenever a new mutation is performed that creates a new </span><code><span>Person</span></code><span>, the server sends the information about this person over to the client:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 2975 --><pre class="language-graphql" data-jsx="2641201535"><code><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token string"><span>"newPerson"</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token punctuation"><span>{</span></span><span>
    </span><span class="token string"><span>"name"</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token string"><span>"Jane"</span></span><span class="token punctuation"><span>,</span></span><span>
    </span><span class="token string"><span>"age"</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token number"><span>23</span></span><span>
  </span><span class="token punctuation"><span>}</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><h3><span>Defining a Schema</span></h3><span>
</span><p><span>Now that you have a basic understanding of what queries, mutations, and subscriptions look like, let’s put it all together and learn how you can write a schema that would allow you to execute the examples you’ve seen so far.</span></p><span>
</span><p><span>The </span><em><span>schema</span></em><span> is one of the most important concepts when working with a GraphQL API. It specifies the capabilities of the API and defines how clients can request the data. It is often seen as a </span><em><span>contract</span></em><span> between the server and client.</span></p><span>
</span><p><span>Generally, a schema is simply a collection of GraphQL types. However, when writing the schema for an API, there are some special </span><em><span>root</span></em><span> types:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 3039 --><pre class="language-graphql" data-jsx="2641201535"><code><span>type Query </span><span class="token punctuation"><span>{</span></span><span> </span><span class="token operator"><span>...</span></span><span> </span><span class="token punctuation"><span>}</span></span><span>
type Mutation </span><span class="token punctuation"><span>{</span></span><span> </span><span class="token operator"><span>...</span></span><span> </span><span class="token punctuation"><span>}</span></span><span>
type Subscription </span><span class="token punctuation"><span>{</span></span><span> </span><span class="token operator"><span>...</span></span><span> </span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><span>The </span><code><span>Query</span></code><span>, </span><code><span>Mutation</span></code><span>, and </span><code><span>Subscription</span></code><span> types are the </span><em><span>entry points</span></em><span> for the requests sent by the client. To enable the </span><code><span>allPersons</span></code><span>-query that we saw before, the </span><code><span>Query</span></code><span> type would have to be written as follows:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 3096 --><pre class="language-graphql" data-jsx="2641201535"><code><span>type Query </span><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token attr-name"><span>allPersons</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token punctuation"><span>[</span></span><span>Person</span><span class="token operator"><span>!</span></span><span class="token punctuation"><span>]</span></span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><code><span>allPersons</span></code><span> is called a </span><em><span>root field</span></em><span> of the API. Considering again the example where we added the </span><code><span>last</span></code><span> argument to the </span><code><span>allPersons</span></code><span> field, we’d have to write the </span><code><span>Query</span></code><span> as follows:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 3143 --><pre class="language-graphql" data-jsx="2641201535"><code><span>type Query </span><span class="token punctuation"><span>{</span></span><span>
  allPersons</span><span class="token punctuation"><span>(</span></span><span class="token attr-name"><span>last</span></span><span class="token punctuation"><span>:</span></span><span> Int</span><span class="token punctuation"><span>)</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token punctuation"><span>[</span></span><span>Person</span><span class="token operator"><span>!</span></span><span class="token punctuation"><span>]</span></span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><span>Similarly, for the </span><code><span>createPerson</span></code><span>-mutation, we’ll have to add a root field to the </span><code><span>Mutation</span></code><span> type:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 3189 --><pre class="language-graphql" data-jsx="2641201535"><code><span>type Mutation </span><span class="token punctuation"><span>{</span></span><span>
  createPerson</span><span class="token punctuation"><span>(</span></span><span class="token attr-name"><span>name</span></span><span class="token punctuation"><span>:</span></span><span> String</span><span class="token operator"><span>!</span></span><span class="token punctuation"><span>,</span></span><span> </span><span class="token attr-name"><span>age</span></span><span class="token punctuation"><span>:</span></span><span> Int</span><span class="token operator"><span>!</span></span><span class="token punctuation"><span>)</span></span><span class="token punctuation"><span>:</span></span><span> Person</span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><span>Notice that this root field takes two arguments as well, the </span><code><span>name</span></code><span> and the </span><code><span>age</span></code><span> of the new </span><code><span>Person</span></code><span>.</span></p><span>
</span><p><span>Finally, for the subscriptions, we’d have to add the </span><code><span>newPerson</span></code><span> root field:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 3249 --><pre class="language-graphql" data-jsx="2641201535"><code><span>type Subscription </span><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token attr-name"><span>newPerson</span></span><span class="token punctuation"><span>:</span></span><span> Person</span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div><span>
</span><p><span>Putting it all together, this is the </span><em><span>full</span></em><span> schema for all the queries and mutation that you have seen in this chapter:</span></p><span>
</span><div class="gatsby-highlight"><span>
      </span><div class="pre-container" data-jsx="2641201535"><!-- react-empty: 3278 --><pre class="language-graphql" data-jsx="2641201535"><code><span>type Query </span><span class="token punctuation"><span>{</span></span><span>
  allPersons</span><span class="token punctuation"><span>(</span></span><span class="token attr-name"><span>last</span></span><span class="token punctuation"><span>:</span></span><span> Int</span><span class="token punctuation"><span>)</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token punctuation"><span>[</span></span><span>Person</span><span class="token operator"><span>!</span></span><span class="token punctuation"><span>]</span></span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>

type Mutation </span><span class="token punctuation"><span>{</span></span><span>
  createPerson</span><span class="token punctuation"><span>(</span></span><span class="token attr-name"><span>name</span></span><span class="token punctuation"><span>:</span></span><span> String</span><span class="token operator"><span>!</span></span><span class="token punctuation"><span>,</span></span><span> </span><span class="token attr-name"><span>age</span></span><span class="token punctuation"><span>:</span></span><span> Int</span><span class="token operator"><span>!</span></span><span class="token punctuation"><span>)</span></span><span class="token punctuation"><span>:</span></span><span> Person</span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>

type Subscription </span><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token attr-name"><span>newPerson</span></span><span class="token punctuation"><span>:</span></span><span> Person</span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>

type Person </span><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token attr-name"><span>name</span></span><span class="token punctuation"><span>:</span></span><span> String</span><span class="token operator"><span>!</span></span><span>
  </span><span class="token attr-name"><span>age</span></span><span class="token punctuation"><span>:</span></span><span> Int</span><span class="token operator"><span>!</span></span><span>
  </span><span class="token attr-name"><span>posts</span></span><span class="token punctuation"><span>:</span></span><span> </span><span class="token punctuation"><span>[</span></span><span>Post</span><span class="token operator"><span>!</span></span><span class="token punctuation"><span>]</span></span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>

type Post </span><span class="token punctuation"><span>{</span></span><span>
  </span><span class="token attr-name"><span>title</span></span><span class="token punctuation"><span>:</span></span><span> String</span><span class="token operator"><span>!</span></span><span>
  </span><span class="token attr-name"><span>author</span></span><span class="token punctuation"><span>:</span></span><span> Person</span><span class="token operator"><span>!</span></span><span>
</span><span class="token punctuation"><span>}</span></span><span>
</span></code></pre></div><span>
      </span></div>