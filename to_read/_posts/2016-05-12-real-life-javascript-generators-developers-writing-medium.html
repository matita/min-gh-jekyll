---
title: "Real-life Javascript Generators — Developers Writing — Medium"
description: "How generators in javascript help us write more robust and clean code."
link: "https://medium.com/developers-writing/real-life-javascript-generators-80c810f82c5c#.ak0fe2mqy"
saved: "2016-05-12 09:10:42"
---
<section name="4585" class=" section--body section--first"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><figure name="3222" id="3222" class="graf--figure graf--first"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*FRw0IV0Q9P_dUdKSiYx10Q.png" data-width="2000" data-height="1245" data-action="zoom" data-action-value="1*FRw0IV0Q9P_dUdKSiYx10Q.png" data-scroll="native"><img src="https://cdn-images-2.medium.com/freeze/max/30/1*FRw0IV0Q9P_dUdKSiYx10Q.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-2.medium.com/max/800/1*FRw0IV0Q9P_dUdKSiYx10Q.png" src="https://cdn-images-2.medium.com/max/800/1*FRw0IV0Q9P_dUdKSiYx10Q.png"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-2.medium.com/max/800/1*FRw0IV0Q9P_dUdKSiYx10Q.png"&gt;</noscript></div></div></figure><h3 name="a187" id="a187" class="graf--h3 graf-after--figure">Real-life Javascript Generators</h3><h4 name="142d" id="142d" class="graf--h4 graf-after--h3">How generators in javascript help us write more robust and clean code.</h4><p name="258b" id="258b" class="graf--p graf-after--h4">With ES6 we have generators, different kind of functions that may be <em class="markup--em markup--p-em">paused</em> at any time, and <em class="markup--em markup--p-em">resumed</em> later, this allows other code to run during those break periods. Let’s review this small code example to better understand how generators work:</p><figure name="2559" id="2559" class="graf--figure graf--iframe graf-after--p"><div class="iframeContainer"><iframe width="700" height="250" src="https://medium.com/media/62936e3a832a3c27a33e2c409da3a224?maxWidth=700" data-media-id="62936e3a832a3c27a33e2c409da3a224" frameborder="0"></iframe></div></figure><p name="4fe0" id="4fe0" class="graf--p graf-after--figure">The first two things you notice is the “*” symbol which indicates that declared function is a generator, and “yield” keyword used to pause the function from inside itself, and waits for signal to continue it’s execution.</p><pre name="3be4" id="3be4" class="graf--pre graf-after--p">kindBot.next() // {value: 'Hello, what\'s your name?', done: false}</pre><p name="6b25" id="6b25" class="graf--p graf-after--pre">As you can see when asking our generator to resume it’s execution, we get back an object with value of what was yielded from it and information whether it has finished running.</p><pre name="36cc" id="36cc" class="graf--pre graf-after--p">kindBot.next(‘Ricky’) // {value: 'Hello, Ricky! :)', done: true}</pre><p name="7e47" id="7e47" class="graf--p graf-after--pre">When calling our generator, we can also pass an argument to it, which will replace <em class="markup--em markup--p-em">yield </em>expression.</p><h3 name="b549" id="b549" class="graf--h3 graf-after--p">Benefits of using generators</h3><p name="d5e7" id="d5e7" class="graf--p graf-after--h3">We quickly reviewed how generators work, but to fully understand the benefits of using them, I will show you a short real-life code example written using: callbacks, promises &amp; generators.</p><h3 name="4c7c" id="4c7c" class="graf--h3 graf-after--p">Callbacks</h3><p name="ba9e" id="ba9e" class="graf--p graf-after--h3">Callbacks helped us enormously in writing asynchronous code using single thread, although after some time spent with javascript we all learned that callbacks stack in form of rotated pyramid, often called <em class="markup--em markup--p-em">callback hell</em>.</p><figure name="ceb5" id="ceb5" class="graf--figure graf--iframe graf-after--p"><div class="iframeContainer"><iframe width="700" height="250" src="https://medium.com/media/8877f725e3e7fdfeb1699d945deec846?maxWidth=700" data-media-id="8877f725e3e7fdfeb1699d945deec846" frameborder="0"></iframe></div></figure><p name="6959" id="6959" class="graf--p graf-after--figure">As you can see, having just one call to API wouldn’t be so bad, but with every next request we quickly form ugly, not easily maintainable code that calls for trouble..</p><h3 name="f309" id="f309" class="graf--h3 graf-after--p">Promises</h3><p name="5d7a" id="5d7a" class="graf--p graf-after--h3">In response to <em class="markup--em markup--p-em">callback hell</em> came promises, they flattened our code’s callbacks to mostly one level of indentation, but that’s just a nice by-product.</p><p name="3fe7" id="3fe7" class="graf--p graf-after--p">What’s the most important about promises is that they provided us with ability to return values from asynchronous functions and throwing / catching exceptions, this is really important because that placed them really close to how synchronous functions behave.</p><figure name="aa33" id="aa33" class="graf--figure graf--iframe graf-after--p"><div class="iframeContainer"><iframe width="700" height="250" src="https://medium.com/media/d30b0eca89a5a49186b0ff6b84ce5fb3?maxWidth=700" data-media-id="d30b0eca89a5a49186b0ff6b84ce5fb3" frameborder="0"></iframe></div></figure><p name="5488" id="5488" class="graf--p graf-after--figure">Promises definitely are enough to work with asynchronous functions in clean, easily maintainable manner, but we can get even closer to how “simple” our code can look.</p><h3 name="8aa5" id="8aa5" class="graf--h3 graf-after--p">Generators</h3><p name="8458" id="8458" class="graf--p graf-after--h3">Combined with promises, generators shine among other solutions, they look and feel really gives us sense of writing our functions in <em class="markup--em markup--p-em">“synchronous”</em> way. Just look how beautiful our snippet became after transforming it into generator’s approach:</p><figure name="724d" id="724d" class="graf--figure graf--iframe graf-after--p"><div class="iframeContainer"><iframe width="700" height="250" src="https://medium.com/media/641fcb575d1189b6e6567cc9ab4ae0d5?maxWidth=700" data-media-id="641fcb575d1189b6e6567cc9ab4ae0d5" frameborder="0"></iframe></div></figure><p name="44c5" id="44c5" class="graf--p graf-after--figure">In most of the cases all we would need to do is remove “yield” with “*” and our code looks <strong class="markup--strong markup--p-strong">exactly</strong> like it was working synchronously.</p><h3 name="43b3" id="43b3" class="graf--h3 graf-after--p">Conclusion</h3><p name="77e0" id="77e0" class="graf--p graf-after--h3 graf--last">I believe that one of most important characteristics of great code is for it to be easily maintained by other developers and generators give our code exactly that: clean &amp; understandable structure that’s easy to follow &amp; keeps all the good parts of asynchronous programming.</p></div></div></section><section name="6cb7" class=" section--body"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><p name="ccdd" id="ccdd" class="graf--p graf--first">For further, more in-depth look into how generators work I can recommend those two articles:</p><ul class="postList"><li name="bf6e" id="bf6e" class="graf--li graf-after--p"><a href="http://www.2ality.com/2015/03/es6-generators.html" data-href="http://www.2ality.com/2015/03/es6-generators.html" class="markup--anchor markup--li-anchor" rel="nofollow">http://www.2ality.com/2015/03/es6-generators.html</a></li><li name="8465" id="8465" class="graf--li graf-after--li graf--last"><a href="https://davidwalsh.name/es6-generators" data-href="https://davidwalsh.name/es6-generators" class="markup--anchor markup--li-anchor" rel="nofollow">https://davidwalsh.name/es6-generators</a></li></ul></div></div></section><section name="ef47" class=" section--body section--last"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><p name="35d3" id="35d3" class="graf--p graf--first graf--last"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">Oskar Cieslik, </em></strong>JS developer just starting his journey in Open Source, currently based in Gdansk, Poland. You can reach me on <a href="https://twitter.com/rpunkfu" data-href="https://twitter.com/rpunkfu" class="markup--anchor markup--p-anchor" rel="nofollow">Twitter</a> &amp; <a href="https://github.com/oskarcieslik" data-href="https://github.com/oskarcieslik" class="markup--anchor markup--p-anchor" rel="nofollow">Github</a>.</p></div></div></section>