---
title: "Going deeper with Project Infinite"
description: "Last month at Dropbox Open London, we unveiled a new technology preview: Project Infinite. Project Infinite is designed to enable you to access all of the content in your Dropbox—no matter how small the hard disk on your machine or how much stuff you have in your Dropbox."
link: "https://blogs.dropbox.com/tech/2016/05/going-deeper-with-project-infinite/"
saved: "2016-05-25 17:48:06"
---

	<!-- .entry-header -->

	<div class="entry-content">
		<p><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">Last month at Dropbox Open London, we unveiled a new technology</span><span class="author-d-4z65zz66zl57z75zyiz66zfr2fz87zwz89znujgz72zurz122z4cz72zz90zbwcz76z0z79zoiu79b2z89zz83zz69zz88zz82zz72z3"> preview</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">: Project Infinite. </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-54609259637">Project Infinite</span> <span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">is designed </span><span class="author-d-4z65zz66zl57z75zyiz66zfr2fz87zwz89znujgz72zurz122z4cz72zz90zbwcz76z0z79zoiu79b2z89zz83zz69zz88zz82zz72z3">to enable you to </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">access all of the content in your Dropbo</span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z">x</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">—no matter how small the </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-81213879900">hard disk </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc79v0ck0z84z6z85zz77zz122zas7ehpbz88zz66z42ucf thread-81213879900">o</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-81213879900">n your machine</span> <span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-36400831121">or</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl"> how much stuff you have in your Dropbox. Today, we’d like to tell you more—from a technical perspective—about what this evolution means for the Dropbox </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-65000070276">desktop client.</span></p>
<p><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">Traditionally, Dropbox operated entirely in </span><a href="https://en.wikipedia.org/wiki/User_space" target="_blank"><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl attrlink url thread-54557125526">user&nbsp;</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl attrlink url thread-54557125526">space</span></a><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-54557125526"> as a program just like any other on your machine</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">. With Dropbox Infinite, we’re going deeper: into the kernel—the core of the operating system</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-14484914778">.</span> <span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-66007252734">With Project Infinite, Dropbox is evolving</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-66007252734"> from a process that passively watches what happens on your local disk to one that actively plays a role in your filesystem</span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-66007252734">. W</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-66007252734">e have invested the better part of two years </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-65073858452">making all the pieces fit together seamlessly</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-66007252734">. This post is a glimpse into our journey.</span></p>
<h4><span class="ace-all-bold-hthree"><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z b"><b>Starting from first principles</b></span></span></h4>
<div>
<p><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-33813568189">Our e</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-33813568189 thread-90295955352">arlier prototypes</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-33813568189"> around solving the “limited disk-space problem”</span> <span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-33813568189">used something called FUSE or Filesystems in User</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-33813568189">s</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-33813568189">pac</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-33813568189">e</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-33813568189">. </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">FUSE is a </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">software interface that lets </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-18095753015">non-privileged users</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl"> create their own filesystems without needing to write a kernel extension. It is part of the kernel itself on some Unix-like operating systems and OS X has a port that is available as a dedicated kernel extension and a <code>libfuse</code></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">&nbsp;library that needs to be linked by a program in </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc734umz89z6z73zz70zv3z86zz65zz84zz75zz74znqgyz74ztz83z3z67zb thread-36238367263">user space</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">.</span></p>
<div><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-86956387059">FUSE is an incredible technology</span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z">,</span><span class="author-d-4z65zz66zl57z75zyiz66zfr2fz87zwz89znujgz72zurz122z4cz72zz90zbwcz76z0z79zoiu79b2z89zz83zz69zz88zz82zz72z3"> but as we gained a deeper understanding it became clear </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">that </span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z">it didn’t fully satisfy the</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z"> two major constraints for our projects</span><span class="author-d-4z65zz66zl57z75zyiz66zfr2fz87zwz89znujgz72zurz122z4cz72zz90zbwcz76z0z79zoiu79b2z89zz83zz69zz88zz82zz72z3 thread-95009905933">—world-class performance and rock-solid security.</span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-95009905933"> Here’s why:</span></div>
<h4><b>Performance</b></h4>
</div>
<div>
<div><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">S</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">ince FUSE filesystems are implemented in </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-58873870968">large part</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z"> in </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-22265566186">user space</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">, any file operation usually requires an extra user-kernel mode switch (one context switch between the application issuing the system call and the VFS in the kernel and an extra one between the FUSE kernel extension and the <code>libfuse</code></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">&nbsp;user space </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-86164066451">library</span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-86164066451">). </span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-82035404909 thread-86164066451">There’s quite a lot going on, as you can</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-82035404909 thread-86164066451"> see</span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-82035404909 thread-86164066451"> in the</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-82035404909 thread-86164066451"> illustration below</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-82035404909">.</span></div>
</div>
<div></div>
<div><a href="https://dropboxtechblog.files.wordpress.com/2016/05/fuse.png" target="_blank"><img class="aligncenter wp-image-2327 size-large" src="https://dropboxtechblog.files.wordpress.com/2016/05/fuse.png?w=650&amp;h=520" alt="Filesystem in Userspace" width="650" height="520"></a></div>
<div></div>
<div><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">While context switches are usually quite inexpensive, this extra overhead for every file operation unfortunately leads to a </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z attrlink url"><a class="attrlink" href="http://www.csl.sri.com/users/gehani/papers/SAC-2010.FUSE.pdf" target="_blank" rel="noreferrer nofollow">degraded performance</a></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z"> that we didn’t want our users to experience when interacting with their files in Dropbox.</span></div>
<div>
<h4><span class="ace-all-bold-hthree"><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl b"><b>Security</b></span></span></h4>
<p><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-96252846228">We take security seriously. </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">We do everything we can to protect our users and their data. This includes having internal </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl attrlink url"><a class="attrlink" href="https://en.wikipedia.org/wiki/Red_team" target="_blank" rel="noreferrer nofollow">Red Teams</a></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">, running a bug-bounty program, and hiring external pen-testers on a regular basis to help us discover vulnerabilities in our products.</span></p>
<div><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-1155372125 thread-24549440341">The various FUSE </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-1155372125">libraries</span> <span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-1155372125">on OS X </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-1155372125 thread-24549440341">are implemented</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-1155372125"> as kernel extensions and introduce too much complexity and risk for us to feel comfortable with distributing as part of our Desktop client.</span></div>
</div>
<div>
<h4><span class="ace-all-bold-hthree"><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl b thread-99647664775"><b>So Instead…</b></span></span></h4>
<div><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-99647664775">After exploring</span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-99647664775"> the option of using FUSE</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-99647664775">,</span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-99647664775"> we realized that there are many benefits to writing</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-99647664775"> our own </span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-99647664775">custom </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-99647664775">kernel extension:</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl"> w</span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z">e are able to achieve</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl"> minimal performance overhead while also ensuring that we understand 100% of what we’re serving to our users. And when we control the interface boundary, we can do our best to push as much non-performance critical machinery up into </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-43678019498">user</span> <span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-43678019498">space</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">, further improving security.</span></div>
</div>
<div>
<h4><span class="ace-all-bold-hthree"><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl b"><b>But wait! There’s more!</b></span></span></h4>
<p><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-97647523326">As we</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">’ve been building out our kernel extension, we have also begun to look at what other long-standing user problems we can solve. It turns out there’s a lot we can do.</span></p>
<p><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">We’ve seen the number of companies that rely on Dropbox Business soar past 150,000 since we launched it just three years ago. With so many teams on Dropbox, we increasingly hear about a scenario we call the “untrained intern problem.” </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-12807427586">Imagine you are working with a bunch of other people on a project and collaborating through a </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586">Team</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-12807427586"> folder on Dropbox. Summer is quickly approaching and you’ve brought on an intern. </span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-12807427586 thread-20975365536">The intern</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586">, </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-12807427586">never </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586">having </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-12807427586">used Dropbox </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586">before,</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-12807427586"> moves a</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586"> folder from inside their Team folder to their Desktop</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-12807427586">, not realizing that </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586">they</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-12807427586">’</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586">ve</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-12807427586"> simultaneously removed access to th</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586">is folder</span> <span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586">for </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-12807427586">everyone else</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586"> in the company</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-12807427586">.</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586"> Now of course this folder could be restored</span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-12807427586">,</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-12807427586"> but don’t you wish there was a better way so this could have been prevented from even happening?</span></p>
<div><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">Rolling out today, starting with </span><span class="author-d-4z65zz66zl57z75zyiz66zfr2fz87zwz89znujgz72zurz122z4cz72zz90zbwcz76z0z79zoiu79b2z89zz83zz69zz88zz82zz72z3">Dropbox E</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">nterprise customers, is </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl i"><i>a better way</i></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">. Now,</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z"> in order to protect the organization and shared content,</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl"> when</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z"> someone performs such an operation</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">, they will be warned with a dialog that looks like this:</span></div>
</div>
<div></div>
<div><a href="https://dropboxtechblog.files.wordpress.com/2016/05/file-alert.png" target="_blank"><img class="aligncenter wp-image-2328 size-large" src="https://dropboxtechblog.files.wordpress.com/2016/05/file-alert.png?w=650&amp;h=387" alt="file-alert" width="650" height="387"></a></div>
<div></div>
<div><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">How does this work? On Windows, we use </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl attrlink url"><a class="attrlink" href="https://msdn.microsoft.com/en-us/library/windows/desktop/cc144063(v=vs.85).aspx" target="_blank" rel="noreferrer nofollow">Copy Hooks</a></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">, but on Mac </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-98868424201">we had to dig a little deeper</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">. W</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">e us</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">e</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z"> the </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z attrlink url"><a class="attrlink" href="https://developer.apple.com/library/mac/technotes/tn2127/_index.html#//apple_ref/doc/uid/DTS10003591-CH1-SUBSECTION18" target="_blank" rel="noreferrer nofollow">Kernel Authorization</a></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z"> (or Kauth for short) kernel subsystem </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">in </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">our</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl"> kernel extension </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">to manage file authorizations within the BSD portion of the kernel. By listening to actions on the <code>KAUTH_SCOPE_VNODE</code></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">&nbsp;scope, we can detect and deny actions that happen in the Dropbox folder. In the examples cited above</span><span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz67ztkz68z9lz69zz76zz78zwbuz77zz88zj6jz75zz80zuwiz69z9cv">,</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z"> for example, we are interested in the <code>KAUTH_VNODE_DELETE</code></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">&nbsp;and <code>KAUTH_VNODE_ADD_FILE</code></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">&nbsp;actions since they allow us to check whether a file or folder in a user’s shared folder is being deleted or moved. From there, it’s just a matter of checking with the user whether the operation was in fact intended and inform them of </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-57697573699">the consequences of </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-57697573699">the</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-57697573699"> operations for other members of the folder</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z">.</span> <span class="author-d-16z86ztz122z98z81zz82zz85zunv3z82zpqfnlamz76zbekbz88z1z81zfxz77zz66zz87zz71zz79zz84zz73zz90zz77zz88zz75zz72zz122zuz81zz85z thread-39932320592">As you can see below, this solution is much simpler than a FUSE implementation would have been, and involves no third-party dependencies.</span></div>
<div></div>
<div><img class="aligncenter wp-image-2329 size-large" src="https://dropboxtechblog.files.wordpress.com/2016/05/kauth.png?w=650&amp;h=430" alt="Kauth" width="650" height="430"></div>
<div></div>
<p><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">So if you’re someone who compulsively </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-26463355269">monitors</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z"> the list of loaded kernel extensions on your system </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-37900614023">(there are dozens of us, dozens!) and you see <code>com.getdropbox.dropbox.kext</code></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl b"><b>&nbsp;&nbsp;</b></span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">you now know why!</span></p>
<div><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl">Stay tuned for </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-60738178543">more about Project Infinite as we continue to test and</span><span class="author-d-4z65zz66zl57z75zyiz66zfr2fz87zwz89znujgz72zurz122z4cz72zz90zbwcz76z0z79zoiu79b2z89zz83zz69zz88zz82zz72z3 thread-50205119078"> ultimately </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-50205119078">roll it out </span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc6z85zz65zz82zz69zz73zz89zz85z6z75zz73zz66zod2m07z85zi7rhz66zz72zz122z thread-1969432015">to</span><span class="author-d-42z69zz85zx9z84zz79zvz66zz71z4yz65zz67znhz79zc7dz83zobz80z573z87znsz73zz65zz69z3bk016j38z90zl thread-50205119078"> a broader set of users.</span></div>
<div></div>
			</div><!-- .entry-content -->

			<!-- .entry-footer -->
	
	<!-- .entry-footer -->

