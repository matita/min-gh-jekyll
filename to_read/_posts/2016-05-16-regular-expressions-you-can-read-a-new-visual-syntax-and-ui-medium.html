---
title: "Regular expressions you can read: 
A new visual syntax (and UI) — Medium"
description: "Lots has been written about the problems with regular expressions: learning them, debugging them, etc."
link: "https://medium.com/@savolai/regular-expressions-you-can-read-a-new-visual-syntax-526c3cf45df1#.m50b3odh5"
saved: "2016-05-16 16:50:22"
---
<section name="f574" class=" section--body section--first section--last"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner u-sizeFullWidth"><figure name="e6cd" id="e6cd" class="graf--figure graf--layoutFillWidth graf--first"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*fODRwhkLPEelko-ynhi0DQ.png" data-width="1688" data-height="200" data-scroll="native"><img src="https://cdn-images-2.medium.com/freeze/max/30/1*fODRwhkLPEelko-ynhi0DQ.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-2.medium.com/max/2000/1*fODRwhkLPEelko-ynhi0DQ.png" src="https://cdn-images-2.medium.com/max/2000/1*fODRwhkLPEelko-ynhi0DQ.png"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-2.medium.com/max/2000/1*fODRwhkLPEelko-ynhi0DQ.png"&gt;</noscript></div></div></figure></div><div class="section-inner layoutSingleColumn"><h3 name="5d4e" id="5d4e" class="graf--h3 graf-after--figure">Regular expressions you can read:&nbsp;<br>A new visual syntax (and UI)</h3><p name="88e4" id="88e4" class="graf--p graf-after--h3">Lots has been written about the problems with regular expressions: learning them, debugging them, etc.</p><p name="547d" id="547d" class="graf--p graf-after--p">I propose <strong class="markup--strong markup--p-strong">a more</strong> <strong class="markup--strong markup--p-strong">visual syntax </strong>and a<strong class="markup--strong markup--p-strong"> keyboard-usable UI</strong> for generating regular expressions.</p><p name="ff8d" id="ff8d" class="graf--p graf-after--p">The UI/syntax proposed here helps address issues related to <strong class="markup--strong markup--p-strong">readability, learnability, and memorability</strong>. Those who readily understand regex will find that this visual syntax does not slow them down. It makes existing regexes easier to read for both novices and true regex superheroes.</p><figure name="7aa9" id="7aa9" class="graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill"></div><img class="graf-image" data-image-id="1*A_fRkUrU-lK7KciKnQ2uIQ.png" data-width="601" data-height="77" src="https://cdn-images-2.medium.com/max/800/1*A_fRkUrU-lK7KciKnQ2uIQ.png"></div><figcaption class="imageCaption">Simplified <a href="http://www.regular-expressions.info/email.html" data-href="http://www.regular-expressions.info/email.html" class="markup--anchor markup--figure-anchor" rel="nofollow">email matching</a> in new visual regex syntax (not for production use)</figcaption></figure><p name="880a" id="880a" class="graf--p graf-after--figure"><strong class="markup--strong markup--p-strong">You write regexes just like you always have — with optional ctrl+space popup menu command completion or insertion</strong>. Also, part of the UI concept is to be able to import existing regex expressions for editing, then export them in your chosen dialect.</p><p name="f1a1" id="f1a1" class="graf--p graf-after--p">This <strong class="markup--strong markup--p-strong">dialect-agnostic</strong> <strong class="markup--strong markup--p-strong">visual syntax </strong>seeks a balance between two ends of a continuum:</p><ul class="postList"><li name="9742" id="9742" class="graf--li graf-after--p"><strong class="markup--strong markup--li-strong">Traditional regexes are so terse that it is hard to tell apart elements and their meanings.</strong> Literals, syntax, wildcards, variable placeholders, etc. are all mashed up together:&nbsp;<br>\b[A-Z0–9._%+-]+@[A-Z0–9.-]+\.[A-Z]{2,4}\b</li><li name="5645" id="5645" class="graf--li graf-after--li">Some editors do already visualize regexes with charts. They are not directly editable, particularly not with a keyboard. <strong class="markup--strong markup--li-strong">These representations are typically very verbose </strong>and as such, are not particularly quick to scan through.</li></ul><p name="5cd3" id="5cd3" class="graf--p graf-after--li">An example from regexper.com:</p><figure name="63f2" id="63f2" class="graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*yLJKVpwg7Xo7diNdR8rv4w.png" data-width="954" data-height="354" data-action="zoom" data-action-value="1*yLJKVpwg7Xo7diNdR8rv4w.png" data-scroll="native"><img src="https://cdn-images-2.medium.com/freeze/max/30/1*yLJKVpwg7Xo7diNdR8rv4w.png?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-2.medium.com/max/800/1*yLJKVpwg7Xo7diNdR8rv4w.png" src="https://cdn-images-2.medium.com/max/800/1*yLJKVpwg7Xo7diNdR8rv4w.png"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-2.medium.com/max/800/1*yLJKVpwg7Xo7diNdR8rv4w.png"&gt;</noscript></div></div><figcaption class="imageCaption">A regexper.com <a href="http://regexper.com/#%28regular%5Cb%29|%28expre%28s%2B%29ions%3F%29" data-href="http://regexper.com/#%28regular%5Cb%29|%28expre%28s%2B%29ions%3F%29" class="markup--anchor markup--figure-anchor" rel="nofollow">sample output</a> for the above email example</figcaption></figure><p name="9034" id="9034" class="graf--p graf-after--figure">The real power of the visual syntax comes to life with the suggested UI. The UI will particularly help those who find the traditional syntax hard to remember.</p><p name="59db" id="59db" class="graf--p graf-after--p">You write a regex as you normally would. The UI will visualize the structure on the fly. <strong class="markup--strong markup--p-strong">When you find that you can’t remember a command, you can press <em class="markup--em markup--p-em">ctrl+space</em> to summon a search menu</strong>. This menu contains all regex commands and descriptions: You can either search by command (to confirm if you remember the command’s meaning right) or by description (to recall what is the command for given task).</p><h3 name="f0f1" id="f0f1" class="graf--h3 graf-after--p">Supporting user memory</h3><p name="2071" id="2071" class="graf--p graf-after--h3">Regular expressions have a hard-to-memorize syntax. This is a particularly serious an issue considering that <strong class="markup--strong markup--p-strong">most of us do not write regexes for a living</strong>.</p><p name="698e" id="698e" class="graf--p graf-after--p">Regexes are typically a tool that gets summoned say, a couple of times a year. When we come back to them, previous learning has faded, and <strong class="markup--strong markup--p-strong">we might need hours just to get up to speed with the syntax</strong>.</p><p name="d113" id="d113" class="graf--p graf-after--p">To solve this, we will augment the above visual syntax with an UI that enables learning. This means three things:</p><ul class="postList"><li name="f747" id="f747" class="graf--li graf-after--p">As mentioned above, the new visual language is dialect-agnostic. <strong class="markup--strong markup--li-strong">Generate any dialect from your expression</strong>, the engine behind the syntax takes care of the actual generating.</li><li name="e895" id="e895" class="graf--li graf-after--li"><a href="https://www.nngroup.com/articles/progressive-disclosure/" data-href="https://www.nngroup.com/articles/progressive-disclosure/" class="markup--anchor markup--li-anchor" rel="nofollow"><strong class="markup--strong markup--li-strong">Progressive disclosure</strong></a><strong class="markup--strong markup--li-strong"> for learning special element meanings.</strong> The general aim is to make elements self explanatory. To remain terse though, not all meanings are readily visible. If you forget the meaning of a symbol, you can just hover or click on elements to get explainers on what each element does.</li><li name="38aa" id="38aa" class="graf--li graf-after--li">In the visual syntax,<strong class="markup--strong markup--li-strong"> a symbol means the same no matter where in the expression it is shown. </strong>The traditional regex language is context modal: Different characters mean different things in different situations, and have different escaping rules. This is particularly true inside and outside character classes [ ]. These inconsistencies are particularly difficult to remember between usages.</li></ul><h3 name="3ea5" id="3ea5" class="graf--h3 graf-after--li">Implementation</h3><p name="59eb" id="59eb" class="graf--p graf-after--h3">This is a concept design. The idea is that the visual syntax will generate traditional regexes. You could see it as a visual DSL that generates (only barely human readable) traditional regular expressions. Ideally, IDEs would have support for this visual syntax such that you could switch between traditional syntax and this visual one.</p><h3 name="a35f" id="a35f" class="graf--h3 graf-after--p">@TODO</h3><p name="f99a" id="f99a" class="graf--p graf-after--h3">Even this syntax can get unwieldy if the expression is complex enough.</p><p name="7f9f" id="7f9f" class="graf--p graf-after--p">Also, this does not solve <em class="markup--em markup--p-em">all </em>issues with regular expressions. Namely, it does not solve the core issue more intrinsically built into regexes: <strong class="markup--strong markup--p-strong">How do I make sure that my regex matches exactly those strings I want it to and none of the ones I don’t? </strong>There are debugging tools for regexes that allow you to find what you want by means of trial and error, but that’s a topic for another post.</p><p name="3e83" id="3e83" class="graf--p graf-after--p">I’d love to hear your comments about how this could be implemented. Some years ago I tried doing a demo in HTML5 and js, but turns out contentEditable was hard to use. In any case, if you’re thinking of creating something like this, I’d love to join you. An open source project, perhaps?</p><p name="d5a4" id="d5a4" class="graf--p graf-after--p">Contact me via this <a href="http://savolai.net/personal/contact-olli/" data-href="http://savolai.net/personal/contact-olli/" class="markup--anchor markup--p-anchor" rel="nofollow">snappy form</a> or on <a href="https://twitter.com/savolai" data-href="https://twitter.com/savolai" class="markup--anchor markup--p-anchor" rel="nofollow">Twitter</a>.</p><p name="8abb" id="8abb" class="graf--p graf-after--p graf--last">Thanks to <a href="http://worrydream.com/LearnableProgramming/" data-href="http://worrydream.com/LearnableProgramming/" class="markup--anchor markup--p-anchor" rel="nofollow">Bret Viktor</a> for providing inspiration for much of this.</p></div></div></section>