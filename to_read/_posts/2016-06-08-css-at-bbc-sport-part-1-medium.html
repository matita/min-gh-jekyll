---
title: "CSS at BBC Sport (Part 1) — Medium"
description: "A few weeks ago I tweeted about BBC Sport’s CSS architecture and it got a lot of attention:"
link: "https://medium.com/@shaunbent/css-at-bbc-sport-part-1-bab546184e66#.z4hgm65e4"
saved: "2016-06-08 15:57:50"
---
<section name="ec5b" class=" section--body section--first"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h3 name="29ba" id="29ba" class="graf--h3 graf--leading">CSS at BBC Sport (Part 1)</h3><p name="5465" id="5465" class="graf--p graf-after--h3">A few weeks ago I tweeted about BBC Sport’s CSS architecture and it got a lot of attention:</p><figure name="1397" id="1397" class="graf--figure graf--iframe graf-after--p"><div class="iframeContainer"><iframe width="700" height="250" src="https://medium.com/media/b8b1ad61f01cb9a65950bb2d72143de7?maxWidth=700" data-media-id="b8b1ad61f01cb9a65950bb2d72143de7" frameborder="0"></iframe></div></figure><p name="7216" id="7216" class="graf--p graf-after--figure">I promised I’d write a blog with more details so here goes. When I started writing this I realised there was lot to say so I’m going to split this two blog posts which covers how we’re approaching CSS at BBC Sport.</p><p name="2309" id="2309" class="graf--p graf-after--p">The <a href="http://www.bbc.co.uk/sport" data-href="http://www.bbc.co.uk/sport" class="markup--anchor markup--p-anchor" rel="nofollow">BBC Sport website</a> is the UK’s most popular sports website, providing coverage of around 50 different sports. From major sports such Football, Formula 1, Cricket and Rugby, to minor sports like as Archery, Bowls and Handball. On average we receive 26 million unique browsers a week. As is now common across the web, the number of users accessing BBC Sport from a mobile device has been steadily increasing of the last few years. We now on average receive more than 50% of traffic from mobile devices, with this percentage increasing at weekends as people are keeping up to date whilst out and about.</p><p name="4565" id="4565" class="graf--p graf-after--p">With this in mind prior to the 2014‘s big sporting events like the<a href="http://m.bbc.co.uk/sport/winter-olympics/2014" data-href="http://m.bbc.co.uk/sport/winter-olympics/2014" class="markup--anchor markup--p-anchor" rel="nofollow"> Sochi Winter Olympics</a>, <a href="http://m.bbc.co.uk/sport/commonwealth-games/2014" data-href="http://m.bbc.co.uk/sport/commonwealth-games/2014" class="markup--anchor markup--p-anchor" rel="nofollow">Glasgow Commonwealth Games</a> and <a href="http://m.bbc.co.uk/sport/football/world-cup/2014" data-href="http://m.bbc.co.uk/sport/football/world-cup/2014" class="markup--anchor markup--p-anchor" rel="nofollow">FIFA World Cup</a> we began the responsive transformation of the BBC Sport website. This provided the opportunity to start again, to define a new architecture, avoiding mistakes made in the past and planning for what will come in the future.</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="d3c5" id="d3c5" class="graf--figure graf--layoutOutsetCenter graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded is-imageLoaded" data-image-id="1*578zkZKQpEXH_6ms-9exBw.jpeg" data-width="3048" data-height="1840" data-action="zoom" data-action-value="1*578zkZKQpEXH_6ms-9exBw.jpeg" data-scroll="native"><img src="https://cdn-images-2.medium.com/freeze/max/30/1*578zkZKQpEXH_6ms-9exBw.jpeg?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-2.medium.com/max/1200/1*578zkZKQpEXH_6ms-9exBw.jpeg" src="https://cdn-images-2.medium.com/max/1200/1*578zkZKQpEXH_6ms-9exBw.jpeg"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-2.medium.com/max/1200/1*578zkZKQpEXH_6ms-9exBw.jpeg"&gt;</noscript></div></div><figcaption class="imageCaption">Homepage for the Glasgow Commonwealth Games 2014</figcaption></figure></div><div class="section-inner layoutSingleColumn"><p name="db47" id="db47" class="graf--p graf-after--figure">I joined the team in January 2014 at the beginning of this journey, specifically to focus on producing a responsive front end architecture which could scale to meet the demands of a website the size of BBC Sport.</p><p name="3527" id="3527" class="graf--p graf-after--p">A number of good architecture decisions had already been made like the decision to take a mobile first approach, follow BBC News’ <a href="http://responsivenews.co.uk/post/18948466399/cutting-the-mustard" data-href="http://responsivenews.co.uk/post/18948466399/cutting-the-mustard" class="markup--anchor markup--p-anchor" rel="nofollow">Cuts the Mustard</a> approach, use of BEM for class names and Sass as a our pre-processor of choice.</p><p name="255e" id="255e" class="graf--p graf-after--p graf--last">Whilst this was a solid foundation we have since introduced a number of other significant changes to a front end workflow which has ultimately led us to a place where we have a scalable architecture and a lightweight CSS footprint.</p></div></div></section><section name="373a" class=" section--body"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h4 name="5731" id="5731" class="graf--h4 graf--leading">Core Architecture</h4><p name="6006" id="6006" class="graf--p graf-after--h4">The core CSS architecture of BBC Sport is based around three key tools:</p><ul class="postList"><li name="ea2d" id="ea2d" class="graf--li graf-after--p"><a href="https://en.bem.info/methodology/" data-href="https://en.bem.info/methodology/" class="markup--anchor markup--li-anchor" rel="nofollow">BEM</a></li><li name="dad9" id="dad9" class="graf--li graf-after--li"><a href="http://www.stubbornella.org/content/2010/06/25/the-media-object-saves-hundreds-of-lines-of-code/" data-href="http://www.stubbornella.org/content/2010/06/25/the-media-object-saves-hundreds-of-lines-of-code/" class="markup--anchor markup--li-anchor" rel="nofollow">OOCSS</a></li><li name="2c4b" id="2c4b" class="graf--li graf-after--li"><a href="http://www.creativebloq.com/web-design/manage-large-scale-web-projects-new-css-architecture-itcss-41514731" data-href="http://www.creativebloq.com/web-design/manage-large-scale-web-projects-new-css-architecture-itcss-41514731" class="markup--anchor markup--li-anchor" rel="nofollow">ITCSS</a></li></ul><p name="f0e0" id="f0e0" class="graf--p graf-after--li">The combination of these three tools, a long with a clear set of principles was worked really well for us.</p><p name="43ca" id="43ca" class="graf--p graf-after--p"><a href="https://css-tricks.com/bem-101/" data-href="https://css-tricks.com/bem-101/" class="markup--anchor markup--p-anchor" rel="nofollow">Block, Element, Modifier</a>, or as is more commonly known BEM, is now regularly found across the web. For me, and others, BEM has become second nature and just forms part of my front end development workflow.</p><figure name="84c9" id="84c9" class="graf--figure graf--iframe graf-after--p"><div class="iframeContainer"><iframe width="700" height="250" src="https://medium.com/media/d2d4352db2a610306174ff584701b3cd?maxWidth=700" data-media-id="d2d4352db2a610306174ff584701b3cd" frameborder="0"></iframe></div></figure><p name="0d1e" id="0d1e" class="graf--p graf-after--figure"><a href="http://csswizardry.com/2013/01/mindbemding-getting-your-head-round-bem-syntax/" data-href="http://csswizardry.com/2013/01/mindbemding-getting-your-head-round-bem-syntax/" class="markup--anchor markup--p-anchor" rel="nofollow">How and why</a> to use BEM has been <a href="https://medium.com/@stowball/bemantic-dry-like-you-mean-it-133ea3843d98#.b42cc98m2" data-href="https://medium.com/@stowball/bemantic-dry-like-you-mean-it-133ea3843d98#.b42cc98m2" class="markup--anchor markup--p-anchor">covered several times before</a> so I won’t go over that again here but the one of the main benefits BEM gives us is predictability. When working on a site the size of BBC Sport having the ability to make changes to our CSS and confidently know the effects them changes will have is invaluable to us. This, for us, along with the many other benefit of BEM, far outweighs any negative opinions people may have about the aesthetics of BEM.</p><p name="4803" id="4803" class="graf--p graf-after--p">Working with abstractions and following an <a href="https://www.smashingmagazine.com/2011/12/an-introduction-to-object-oriented-css-oocss/" data-href="https://www.smashingmagazine.com/2011/12/an-introduction-to-object-oriented-css-oocss/" class="markup--anchor markup--p-anchor" rel="nofollow">Object-Oriented CSS</a> approach has helped keep our CSS lean and our UI consistent. Identifying common repeating structural patterns and abstracting them into reusable CSS objects is now common practice at BBC Sport. Prior to the introduction of OOCSS developers would create components with large amounts of bespoke CSS, CSS that is often common in other components.</p><figure name="9f3a" id="9f3a" class="graf--figure graf--layoutOutsetLeft graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*Yp_6ca3DmNPQGmBNXUtF7A.jpeg" data-width="3048" data-height="1840" data-action="zoom" data-action-value="1*Yp_6ca3DmNPQGmBNXUtF7A.jpeg" data-scroll="native"><img src="https://cdn-images-2.medium.com/freeze/max/30/1*Yp_6ca3DmNPQGmBNXUtF7A.jpeg?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-2.medium.com/max/600/1*Yp_6ca3DmNPQGmBNXUtF7A.jpeg" src="https://cdn-images-2.medium.com/max/600/1*Yp_6ca3DmNPQGmBNXUtF7A.jpeg"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-2.medium.com/max/600/1*Yp_6ca3DmNPQGmBNXUtF7A.jpeg"&gt;</noscript></div></div><figcaption class="imageCaption">Sochi Winter Olympics Medals Table as seen on the Index Page</figcaption></figure><p name="2dbf" id="2dbf" class="graf--p graf-after--figure">A great example of this is the first data module we created for our new responsive site, the Sochi 2014 <a href="http://www.bbc.co.uk/sport/winter-olympics/2014/medals/countries" data-href="http://www.bbc.co.uk/sport/winter-olympics/2014/medals/countries" class="markup--anchor markup--p-anchor" rel="nofollow">Winter Olympics medals table</a>.</p><p name="a03e" id="a03e" class="graf--p graf-after--p">The CSS for this table was created without a consideration for how it could be used for any of the other tables we feature across the site. This single table is constructed with 475 lines of Sass and weighs in at 16kb (3kb gzipped). We have since produced a single flexible table abstraction. This single abstraction now powers every table across the Sport site, from <a href="http://www.bbc.co.uk/sport/rugby-union/english-premiership/table" data-href="http://www.bbc.co.uk/sport/rugby-union/english-premiership/table" class="markup--anchor markup--p-anchor" rel="nofollow">Rugby</a> to <a href="http://www.bbc.co.uk/sport/cricket/county-championship-division-one/table" data-href="http://www.bbc.co.uk/sport/cricket/county-championship-division-one/table" class="markup--anchor markup--p-anchor" rel="nofollow">Cricket</a> and <a href="http://www.bbc.co.uk/sport/formula1/drivers-world-championship/standings" data-href="http://www.bbc.co.uk/sport/formula1/drivers-world-championship/standings" class="markup--anchor markup--p-anchor" rel="nofollow">Formula One</a> to <a href="http://www.bbc.co.uk/sport/american-football/tables" data-href="http://www.bbc.co.uk/sport/american-football/tables" class="markup--anchor markup--p-anchor" rel="nofollow">American Football</a>. We’ve even recreated the Winter Olympics medals table using this table abstraction. Our reusable table abstraction comprises of only 180 lines of Sass, weighing in at 2kb (0.6kb gzipped). With 8 times less CSS we have been able to create an abstraction which is flexible enough to power every variation of table we have across the site.</p><p name="699a" id="699a" class="graf--p graf-after--p">The final tool which forms our core architecture is <a href="http://www.creativebloq.com/web-design/manage-large-scale-web-projects-new-css-architecture-itcss-41514731" data-href="http://www.creativebloq.com/web-design/manage-large-scale-web-projects-new-css-architecture-itcss-41514731" class="markup--anchor markup--p-anchor" rel="nofollow">ITCSS</a> or Inverted Triangle CSS. Compared to BEM and OOCSS this one seems to be less well known yet its probably the tool thats had the biggest impact on our codebase.</p><p name="5417" id="5417" class="graf--p graf-after--p">ITCSS comes from CSS legend, <a href="http://csswizardry.com/" data-href="http://csswizardry.com" class="markup--anchor markup--p-anchor" rel="nofollow">Harry Roberts</a>. If you’re not familiar with this approach to managing CSS I strongly urge you to watch Harry’s talk: <a href="https://www.youtube.com/watch?v=1OKZOV-iLj4" data-href="https://www.youtube.com/watch?v=1OKZOV-iLj4" class="markup--anchor markup--p-anchor" rel="nofollow">Managing CSS Projects with ITCSS</a>.</p><p name="26ab" id="26ab" class="graf--p graf-after--p">Harry came to work with us for a day back in 2014 where he shared the ideas behind <a href="https://speakerdeck.com/dafed/managing-css-projects-with-itcss" data-href="https://speakerdeck.com/dafed/managing-css-projects-with-itcss" class="markup--anchor markup--p-anchor" rel="nofollow">ITCSS</a> with us. We were one of the first people Harry had shared the ideas of ITCSS with and have been using it ever since. Following the ITCSS methodology has transformed the way we write, plan and organise our CSS.</p><p name="e89d" id="e89d" class="graf--p graf-after--p">As Harry explains:</p><blockquote name="ab1c" id="ab1c" class="graf--pullquote pullquote graf-after--p">A lot of methodologies try and avoid or ignore CSS’ ‘features’, ITCSS makes them work to our advantage</blockquote><p name="a0aa" id="a0aa" class="graf--p graf-after--pullquote">We have found that as we’re not spending our time trying to fight against the cascade, specificity or any of CSS’ other gotchas; if we’re not constantly unsetting or overriding CSS defined earlier on in the project; if any new piece of CSS has somewhere to live, we get efficient, reusable CSS which is a pleasure to work with.</p><p name="82a3" id="82a3" class="graf--p graf-after--p graf--last">We’ve been following this approach to writing our CSS for two years and one conclusion I’ve come too is that the best way to avoid CSS becoming a pain point of a project is to write as little of it as possible.</p></div></div></section><section name="87f7" class=" section--body"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h4 name="7c6e" id="7c6e" class="graf--h4 graf--leading">CSS Principles</h4><p name="7f76" id="7f76" class="graf--p graf-after--h4">To support our core CSS architecture we apply a number of principles writing CSS. Simple things like:</p><p name="4478" id="4478" class="graf--p graf-after--p">- Strictly no IDs in CSS<br>- Avoid unnecessary nesting<br>- Keep specificity as low as possible<br>- No magic numbers, all units must be derived from GEL units<br>- Keep scope limited to thing you’re styling<br>- Avoid unnecessary unsetting of styles<br>- Lots of comments to explain whats going on to other developers</p><p name="b03d" id="b03d" class="graf--p graf-after--p">Beyond these basic principles there are a number of other things we care about like:</p><p name="657f" id="657f" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Single Responsibility Principle</strong></p><p name="b2c1" id="b2c1" class="graf--p graf-after--p">Wherever possible we try to make each class do one things and do it well. Be that an abstraction solving a common layout problem, a low level utility class which is one step away from an inline-style or a more complex component solving a specific problem, potentially encapsulating some semantics relating to a specific sport.</p><p name="54e2" id="54e2" class="graf--p graf-after--p">This approach does promote the heavy use of multiple classes in our markup, at first this approach did receive some resistance for other members of team, however overtime the benefits of using multiple classes has proven to be far more flexible and scalable.</p><p name="6a0b" id="6a0b" class="graf--p graf-after--p">By making each class perform a single specific task our codebase becomes decoupled with very few dependancies between parts of the codebase. It then becomes a matter of composing these reusable classes together to quickly create new components and features.</p><p name="6476" id="6476" class="graf--p graf-after--p">Following the single responsibility principle has not always been the easiest thing to achieve, I personally have often been tempted to try and combine a few things together to maybe reduce the number of classes used in our markup. However, in nearly every case this hasn’t worked and we’ve need to separate things back out.</p><p name="af18" id="af18" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Separation of Concerns</strong></p><p name="c104" id="c104" class="graf--p graf-after--p">The Separation of Concerns deals with breaking our interface up into smaller chunks which can be composed together, ultimately resulting in more maintainable and predicable code.</p><p name="1e0c" id="1e0c" class="graf--p graf-after--p">In the early days of the new BBC Sport codebase this was not a principle we followed rigidly. We would often try to combine a few classes, each with different purposes together on a single element. For example, combining layout and component specific styles:</p><pre name="8705" id="8705" class="graf--pre graf-after--p">&lt;div class="grid my-component"&gt;<br>    &lt;div class="grid__item one-third--medium my-component__item"&gt;<br>        ...<br>    &lt;/div&gt;<br>&lt;/div&gt;</pre><p name="ddc8" id="ddc8" class="graf--p graf-after--pre">We found this kind of mixing of concerns led to bugs and un-predicable behaviour. So we now actively try to keep our concerns separate by introducing additional elements creating buffers between different types of styles. The above example would now look something like this:</p><pre name="7dd4" id="7dd4" class="graf--pre graf-after--p">&lt;div class="my-component"&gt;<br>    &lt;div class="grid"&gt;<br>        &lt;div class="grid_item one-third--medium"&gt;<br>            &lt;div class="my-component__item"&gt;<br>                ...<br>            &lt;/div&gt;<br>        &lt;/div&gt;<br>    &lt;/div&gt;<br>&lt;/div&gt;</pre><p name="fb9d" id="fb9d" class="graf--p graf-after--pre">Some may claim this is unnecessary HTML bloat, however the benefit this separation of concerns gives us far outweighs any negligible increase in the page weight. In nearly every case trying to remove elements and combine things can led to unexpected behaviour.</p><p name="e958" id="e958" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Immutability</strong></p><p name="6ee5" id="6ee5" class="graf--p graf-after--p">As we make heavy use of abstractions and utility classes throughout our codebase we have to enforce immutability to avoid unintentionally breaking components.</p><p name="835c" id="835c" class="graf--p graf-after--p">We’ve started introducing <a href="http://csswizardry.com/2015/03/more-transparent-ui-code-with-namespaces/" data-href="http://csswizardry.com/2015/03/more-transparent-ui-code-with-namespaces/" class="markup--anchor markup--p-anchor" rel="nofollow">namespaces</a> to our classnames so its clear what each class does, where it <a href="http://csswizardry.com/2015/03/more-transparent-ui-code-with-namespaces/#the-namespaces" data-href="http://csswizardry.com/2015/03/more-transparent-ui-code-with-namespaces/#the-namespaces" class="markup--anchor markup--p-anchor" rel="nofollow">lives in the ITCSS triangle</a> and gives other developers, at a glance, more information and confidence when it comes to making changes.</p><pre name="b5f0" id="b5f0" class="graf--pre graf-after--p">.o- // Objects<br>.c- // Components<br>.u- // Utilities<br>.t- // Theming</pre><p name="7b19" id="7b19" class="graf--p graf-after--pre">We enforce immutability on our low-level utility classes by appending&nbsp;<em class="markup--em markup--p-em">!important </em>to every style rule. This gives us a number of benefits, firstly our utility classes become extremely predictable, we can always guarantee the outcome of applying a specific utility class. As we’ve purposely increased the specificity of our utility classes they can also not be overridden. Harry Roberts has recently written about “<a href="http://csswizardry.com/2016/05/the-importance-of-important/" data-href="http://csswizardry.com/2016/05/the-importance-of-important/" class="markup--anchor markup--p-anchor" rel="nofollow">The Importance of&nbsp;!important</a>”.</p><p name="d92c" id="d92c" class="graf--p graf-after--p graf--last">Developers from other teams in the BBC often have a shocked look on their face when I tell them we actively use the&nbsp;<em class="markup--em markup--p-em">!important</em> keyword in our CSS. We have over 700&nbsp;<em class="markup--em markup--p-em">!important</em>`s in our CSS and it has not caused us a single problem in two years and only benefited us.</p></div></div></section><section name="b7aa" class=" section--body"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h4 name="384a" id="384a" class="graf--h4 graf--leading">GEL Foundations</h4><p name="c385" id="c385" class="graf--p graf-after--h4">GEL or the <a href="http://bbc.co.uk/gel" data-href="http://bbc.co.uk/gel" class="markup--anchor markup--p-anchor" rel="nofollow">Global Experience Language</a> is the BBC’s shared design framework. The goal of GEL is to ensure experiences across the BBCs digital estate are both delightful and consistent.</p><p name="920a" id="920a" class="graf--p graf-after--p">GEL defines a consistent set of foundations which all BBC websites should be based upon. The <a href="http://www.bbc.co.uk/gel/guidelines/category/foundations" data-href="http://www.bbc.co.uk/gel/guidelines/category/foundations" class="markup--anchor markup--p-anchor" rel="nofollow">GEL Foundations</a> consists of a set of typographic styles, a collection of icons and a flexible responsive grid.</p><p name="edec" id="edec" class="graf--p graf-after--p">These foundations have traditionally been distributed as a set of PDF documents/guidelines which teams would implement within their projects. Working collaboratively with the GEL team of designers, the Sport engineering team have helped produce a set of reusable code implementations of these guidelines. GEL Designer, Al Jones, has recently written about this process in “<a href="http://www.bbc.co.uk/blogs/internet/entries/c7c8cbe9-fe4e-478b-8048-e15d7c2cd138" data-href="http://www.bbc.co.uk/blogs/internet/entries/c7c8cbe9-fe4e-478b-8048-e15d7c2cd138" class="markup--anchor markup--p-anchor" rel="nofollow">Creating a GEL foundation for everyone</a>”.</p><p name="6c1a" id="6c1a" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Typography</strong></p><figure name="2225" id="2225" class="graf--figure graf--layoutOutsetLeft graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*iGt0FCyTTILz3bG_OAJn-Q.jpeg" data-width="3048" data-height="1840" data-action="zoom" data-action-value="1*iGt0FCyTTILz3bG_OAJn-Q.jpeg" data-scroll="native"><img src="https://cdn-images-2.medium.com/freeze/max/30/1*iGt0FCyTTILz3bG_OAJn-Q.jpeg?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-2.medium.com/max/600/1*iGt0FCyTTILz3bG_OAJn-Q.jpeg" src="https://cdn-images-2.medium.com/max/600/1*iGt0FCyTTILz3bG_OAJn-Q.jpeg"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-2.medium.com/max/600/1*iGt0FCyTTILz3bG_OAJn-Q.jpeg"&gt;</noscript></div></div><figcaption class="imageCaption">GEL Typography Demo</figcaption></figure><p name="0cb2" id="0cb2" class="graf--p graf-after--figure">The <a href="https://github.com/bbc/gel-typography" data-href="https://github.com/bbc/gel-typography" class="markup--anchor markup--p-anchor" rel="nofollow">GEL Typography</a> guideline defines at set of 8 different type sizes and line-heights. Each size is given a name derived from traditional type measuring techniques dating back to as early as 1582.</p><p name="49ba" id="49ba" class="graf--p graf-after--p">This naming convention helps improve communications between disciplines. We’re no longer talking about 32px font-size and 36px line-height. We now talk about thats pica or thats trafalgar.</p><p name="163b" id="163b" class="graf--p graf-after--p">Each of these names maps to a typography class which can be used to apply the specific styling for that group:</p><pre name="c92b" id="c92b" class="graf--pre graf-after--p">.gel-canon { ... }<br>.gel-trafalgar { ... }<br>.gel-double-pica { ... }<br>.gel-great-primer { ... }<br>.gel-pica { ... }<br>.gel-long-primer { ... }<br>.gel-brevier { ... }<br>.gel-minion { ... }</pre><p name="14b6" id="14b6" class="graf--p graf-after--pre">With the exception of the navigation, typography is applied across the BBC Sport website exclusively using these classes. A clear separation of concerns. Working this way makes it extremely easy and quick to apply change to the typography. Its also great for working closely with UX. Designers can quickly open dev tools, change a typography and instantly see different typography styles applied.</p><p name="123e" id="123e" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Grid</strong></p><figure name="728b" id="728b" class="graf--figure graf--layoutOutsetLeft graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*ypjG8kOop98Ass8I0uRX8A.jpeg" data-width="3048" data-height="1840" data-action="zoom" data-action-value="1*ypjG8kOop98Ass8I0uRX8A.jpeg" data-scroll="native"><img src="https://cdn-images-2.medium.com/freeze/max/30/1*ypjG8kOop98Ass8I0uRX8A.jpeg?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-2.medium.com/max/600/1*ypjG8kOop98Ass8I0uRX8A.jpeg" src="https://cdn-images-2.medium.com/max/600/1*ypjG8kOop98Ass8I0uRX8A.jpeg"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-2.medium.com/max/600/1*ypjG8kOop98Ass8I0uRX8A.jpeg"&gt;</noscript></div></div></figure><p name="a2b5" id="a2b5" class="graf--p graf-after--figure">The <a href="https://github.com/bbc/gel-grid" data-href="https://github.com/bbc/gel-grid" class="markup--anchor markup--p-anchor" rel="nofollow">GEL Grid</a> guideline defines a flexible, responsive grid with a mix of fluid columns and fixed gutters and margins.</p><p name="289e" id="289e" class="graf--p graf-after--p">Applying the GEL Grid is one area its taken us a lot of time to settle on a solution. Initially there was no specific grid solution in place, everything was hand-rolled on a component by component basis. Whilst initially this was ok, it quickly resulted in a lot of duplicate code. As our responsive site grew this approach became unmanageable.</p><p name="286a" id="286a" class="graf--p graf-after--p">Our first attempt at a grid solution was based around Sass @extends, I guess the idea at the time was to avoid introducing any additional HTML elements for the Grid. It would look something like this:</p><pre name="1f87" id="1f87" class="graf--pre graf-after--p">.my-component {<br>    @extend %grid;<br>}</pre><pre name="8261" id="8261" class="graf--pre graf-after--pre">.my-component__item {<br>    @extend %grid-item;<br>    @extend %one-halve;<br>    @extend %one-quater--medium;<br>}</pre><p name="c1cc" id="c1cc" class="graf--p graf-after--pre">This approach had two problems. Firstly we found ourselves creating components just to apply the grid and layout. When all we’re doing is applying the grid to components it seemed a little redundant to keep creating uniquely named components. Another side effect of this is that our CSS grew every time we wanted to apply the grid to a new component, another form of duplication.</p><p name="d172" id="d172" class="graf--p graf-after--p">As this approach was based around Sass @extends we also fell victim of “extend bloat”, in some cases we have 60–70 selector long chains. As has <a href="http://csswizardry.com/2016/02/mixins-better-for-performance/" data-href="http://csswizardry.com/2016/02/mixins-better-for-performance/" class="markup--anchor markup--p-anchor" rel="nofollow">been proven elsewhere</a> this was not great for performance.</p><p name="c5fc" id="c5fc" class="graf--p graf-after--p">Our final approach and what forms the <a href="https://github.com/bbc/gel-grid" data-href="https://github.com/bbc/gel-grid" class="markup--anchor markup--p-anchor" rel="nofollow">GEL Grid</a> library, which is now being used across the BBC, is a far more traditional grid approach. Using a combination of grid markup and a series of utility classes.</p><pre name="61c6" id="61c6" class="graf--pre graf-after--p">&lt;div class="gel-layout"&gt;<br>    &lt;div class="gel-layout__item gel-1/2 gel-1/4@m"&gt;<br>        ...<br>    &lt;/div&gt;<br>&lt;/div&gt;</pre><p name="6481" id="6481" class="graf--p graf-after--pre">When applying the Grid we actively apply the Single Responsibility Principle and aim to separate layout from any specific component styles.</p><p name="877f" id="877f" class="graf--p graf-after--p">GEL defines a series of principles for <a href="http://www.bbc.co.uk/gel/guidelines/how-to-design-for-the-web" data-href="http://www.bbc.co.uk/gel/guidelines/how-to-design-for-the-web" class="markup--anchor markup--p-anchor" rel="nofollow">designing for the web</a>. One of which is to “<a href="http://www.bbc.co.uk/gel/guidelines/how-to-design-for-the-web#apply-breakpoints-at-the-limits-of-a-design-not-a-device-" data-href="http://www.bbc.co.uk/gel/guidelines/how-to-design-for-the-web#apply-breakpoints-at-the-limits-of-a-design-not-a-device-" class="markup--anchor markup--p-anchor" rel="nofollow">Apply breakpoints at the limits of a design, not a device</a>”. By using a utility classes to create a grid we’re restricted to only applying changes at the globally defined <a href="http://www.bbc.co.uk/gel/guidelines/grid#grid-sizes" data-href="http://www.bbc.co.uk/gel/guidelines/grid#grid-sizes" class="markup--anchor markup--p-anchor" rel="nofollow">GEL Breakpoints</a>. Whilst this works for 90% of design patterns there are cases where custom breakpoints are required.</p><p name="617e" id="617e" class="graf--p graf-after--p graf--last">We handle these cases in our Sass using the mixin’s available as part of the <a href="https://github.com/bbc/gel-grid#sass-mixins" data-href="https://github.com/bbc/gel-grid#sass-mixins" class="markup--anchor markup--p-anchor" rel="nofollow">GEL Grid</a>. By combining these two approaches we get the benefits of a lightweight grid solution which can be used in the majority of cases and the flexibility to create bespoke grids with custom breakpoints to ensure we deliver effective responsive solutions.</p></div></div></section><section name="5e26" class=" section--body"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h4 name="ad30" id="ad30" class="graf--h4 graf--leading">Building bridges with UX</h4><p name="4d97" id="4d97" class="graf--p graf-after--h4">Whilst all of this architecture and technical stuff is great and has delivered us some great results, another area which has had just as much impact is the work we have been doing to forge stronger working relationships with our team of designers.</p><p name="1c16" id="1c16" class="graf--p graf-after--p"><a href="http://www.forepoint.co.uk/" data-href="http://www.forepoint.co.uk/" class="markup--anchor markup--p-anchor" rel="nofollow">Before joining</a> the BBC I had spent a lot of time working closely with designers and encouraging this kind of behaviour. Whilst there was already some collaboration happening in the team there was certainly room for improvement. It still very much felt like designs where handed over the wall to be built. Even worse designs would often be shared in the form of a “Red Line Document”.</p><figure name="97dd" id="97dd" class="graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*_yovVn8v-w1s4DEuN9PsDA.jpeg" data-width="1307" data-height="784" data-action="zoom" data-action-value="1*_yovVn8v-w1s4DEuN9PsDA.jpeg" data-scroll="native"><img src="https://cdn-images-2.medium.com/freeze/max/30/1*_yovVn8v-w1s4DEuN9PsDA.jpeg?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-2.medium.com/max/800/1*_yovVn8v-w1s4DEuN9PsDA.jpeg" src="https://cdn-images-2.medium.com/max/800/1*_yovVn8v-w1s4DEuN9PsDA.jpeg"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-2.medium.com/max/800/1*_yovVn8v-w1s4DEuN9PsDA.jpeg"&gt;</noscript></div></div><figcaption class="imageCaption">Red Line Document for a Medals Table</figcaption></figure><p name="8fd2" id="8fd2" class="graf--p graf-after--figure">Something I have learnt is that very rarely do static design mockups easily translate into a responsive website. There are so many nuances and factors that it is just not possible to consider when using static tools like Illustrator or Photoshop.</p><p name="f651" id="f651" class="graf--p graf-after--p">As well as the process of producing static designs, the design team always seems to be a few months ahead of the engineering team. Meaning there was very little opportunity to truly collaborate or get designs into the browser at an early stage.</p><p name="fb8f" id="fb8f" class="graf--p graf-after--p">Both of these processes meant it was very difficult to try and implement the architectural changes we wanted to make. So building bridges with UX was paramount.</p><p name="d9eb" id="d9eb" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Death of the redline</strong></p><p name="ce46" id="ce46" class="graf--p graf-after--p">One of the first things we did was to align the roadmaps of the design team and the front end team.</p><p name="0faa" id="0faa" class="graf--p graf-after--p">Initially we simply involved ourselves in the work designers were doing so that we could provide feedback and input into designs. The more we got involved with the design team the more it made sense that the front end team should also be working on the same things at the same time.</p><figure name="d85d" id="d85d" class="graf--figure graf--layoutOutsetLeft graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*ou-CkwKFgQQB_xjWx28rqA.jpeg" data-width="3048" data-height="1840" data-action="zoom" data-action-value="1*ou-CkwKFgQQB_xjWx28rqA.jpeg" data-scroll="native"><img src="https://cdn-images-2.medium.com/freeze/max/30/1*ou-CkwKFgQQB_xjWx28rqA.jpeg?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-2.medium.com/max/600/1*ou-CkwKFgQQB_xjWx28rqA.jpeg" src="https://cdn-images-2.medium.com/max/600/1*ou-CkwKFgQQB_xjWx28rqA.jpeg"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-2.medium.com/max/600/1*ou-CkwKFgQQB_xjWx28rqA.jpeg"&gt;</noscript></div></div><figcaption class="imageCaption">New Responsive Sport Homepage</figcaption></figure><p name="d671" id="d671" class="graf--p graf-after--figure">By the time we got round to working on our final responsive pages for <a href="http://www.bbc.co.uk/sport/formula1" data-href="http://www.bbc.co.uk/sport/formula1" class="markup--anchor markup--p-anchor" rel="nofollow">major sports</a>, <a href="http://www.bbc.co.uk/sport/football" data-href="http://www.bbc.co.uk/sport/football" class="markup--anchor markup--p-anchor" rel="nofollow">football</a> and the <a href="http://www.bbc.co.uk/sport" data-href="http://www.bbc.co.uk/sport" class="markup--anchor markup--p-anchor" rel="nofollow">homepage</a>, we were entirely in-sync and these new pages where largely designed in the browser.</p><p name="7d5a" id="7d5a" class="graf--p graf-after--p">This approach was really efficient and we quickly got pages into <a href="http://www.bbc.co.uk/blogs/internet/entries/01dc3025-2129-4a07-8435-44aaf3a5443a" data-href="http://www.bbc.co.uk/blogs/internet/entries/01dc3025-2129-4a07-8435-44aaf3a5443a" class="markup--anchor markup--p-anchor" rel="nofollow">beta</a>. Allowing us to get <a href="http://www.bbc.co.uk/blogs/internet/entries/42cd8354-64fa-4441-b4f2-48685cea42d8" data-href="http://www.bbc.co.uk/blogs/internet/entries/42cd8354-64fa-4441-b4f2-48685cea42d8" class="markup--anchor markup--p-anchor" rel="nofollow">feedback from users</a> so that we could evolve the designs based upon actual user feedback before they where fully launched.</p><p name="a935" id="a935" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Is it worth it?!?</strong></p><p name="d945" id="d945" class="graf--p graf-after--p">I’ve found myself asking this to the UX team a lot. Maybe I’ve given a design and one element had 10px space at the bottom. Why 10px? Everything else across the site is based off an 8px baseline, why is this space 10px? Is that extra 2px worth the bespoke style needed to apply it? Will the user notice that extra 2px?</p><p name="5c98" id="5c98" class="graf--p graf-after--p">In isolation this kind of questioning approach might seem a bit extreme, however simply accepting rules which go against the established standards of codebase sets a precedent that its ok to add rules like this. We’re then in a situation where these kind of rules proliferate throughout the codebase and things can quickly spiral out of control.</p><p name="4da4" id="4da4" class="graf--p graf-after--p"><span class="markup--quote markup--p-quote is-other" name="anon_d4f427028169" data-creator-ids="anon">Will the user notice an extra 2px? Unlikely. Will the user notice the website getting slower because we have an unnecessary amount of CSS? More likely.</span></p><p name="2502" id="2502" class="graf--p graf-after--p">This should not be seen as a process of us simply saying “no” to designs, its a process of education. Explaining the reasons why we’re saying “no”, explaining what we’re trying to achieve with our front end, how it will benefit the users because its performant and consistent and how it benefits us through maintenance and the speed at which we can produce new features.</p><p name="2dfa" id="2dfa" class="graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Exposing designers to code</strong></p><p name="b61e" id="b61e" class="graf--p graf-after--p">Education is a key steps in building bridges with UX designers, at the end of the day both teams want to achieve the same things.</p><p name="cd91" id="cd91" class="graf--p graf-after--p">As part of the process of educating designers to our code architecture and how we approach building their designs is to expose them to the code itself. I imagine at first for a designer this can be intimidating. The BBC Sport website consists of nearly 30,000 lines of Sass alone.</p><p name="e022" id="e022" class="graf--p graf-after--p">However, through coaching and knowledge sharing we reached a point where UX started to open pull requests to make changes themselves.</p></div><div class="section-inner sectionLayout--outsetColumn"><figure name="3803" id="3803" class="graf--figure graf--layoutOutsetCenter graf-after--p"><div class="aspectRatioPlaceholder is-locked"><div class="aspectRatioPlaceholder-fill"></div><div class="progressiveMedia js-progressiveMedia graf-image is-canvasLoaded" data-image-id="1*N1s3AP1zshSEQy9OOoxESQ.jpeg" data-width="3048" data-height="1840" data-action="zoom" data-action-value="1*N1s3AP1zshSEQy9OOoxESQ.jpeg" data-scroll="native"><img src="https://cdn-images-2.medium.com/freeze/max/30/1*N1s3AP1zshSEQy9OOoxESQ.jpeg?q=20" crossorigin="anonymous" class="progressiveMedia-thumbnail js-progressiveMedia-thumbnail"><img class="progressiveMedia-image js-progressiveMedia-image" data-src="https://cdn-images-2.medium.com/max/1200/1*N1s3AP1zshSEQy9OOoxESQ.jpeg" src="https://cdn-images-2.medium.com/max/1200/1*N1s3AP1zshSEQy9OOoxESQ.jpeg"><noscript class="js-progressiveMedia-inner">&lt;img class="progressiveMedia-noscript js-progressiveMedia-inner" src="https://cdn-images-2.medium.com/max/1200/1*N1s3AP1zshSEQy9OOoxESQ.jpeg"&gt;</noscript></div></div><figcaption class="imageCaption">Our First UX PR</figcaption></figure></div><div class="section-inner layoutSingleColumn"><p name="bea0" id="bea0" class="graf--p graf-after--figure">This pull request might only have been simply adding a class on some HTML but this was a massive step forward in our relationship with our designers.</p><p name="2aac" id="2aac" class="graf--p graf-after--p">This soon progressed to entire HTML and CSS pull requests. Designers piecing together patterns and abstractions which already existed in the codebase. UX completed their own colour audits across the entire codebase to ensure all colours used aligned to our colour palette and where referenced from Sass variables.</p><p name="07ad" id="07ad" class="graf--p graf-after--p">I strongly believe that designers having knowledge of how code works and how what they design gets interpreted into code effects the decisions they make when designing. I asked <a href="https://twitter.com/alexcolbeck" data-href="https://twitter.com/alexcolbeck" class="markup--anchor markup--p-anchor" rel="nofollow">the designer</a> who created the above pull request: “Would you say that when you got involved with code it changed the way you designed? or the way you thought about it?” His response:</p><blockquote name="0591" id="0591" class="graf--pullquote pullquote graf-after--p">100000000%, One of the best things I’ve done I think. Makes you a more informed, logical and efficient designer. And it means you come to the table with ideas you know will work.</blockquote><p name="8092" id="8092" class="graf--p graf-after--pullquote graf--last">This has been a great success for us and something we’re extremely proud of. We do not expect all our designers to write code and submit pull requests but we certainly want to encourage designers to have an understanding of code and it shouldn’t be seen as a black box.</p></div></div></section><section name="a4e1" class=" section--body section--last"><div class="section-divider layoutSingleColumn"><hr class="section-divider"></div><div class="section-content"><div class="section-inner layoutSingleColumn"><h4 name="f24a" id="f24a" class="graf--h4 graf--leading">To be continued</h4><p name="cfa5" id="cfa5" class="graf--p graf-after--h4 graf--last">This is only really the start of the story of CSS at BBC Sport. In the next post I want to talk about how we’re taking these principles and applying them to BBC LIVE our online live coverage platform and how through our new framework, <a href="http://bbc.github.io/bbc-grandstand/" data-href="http://bbc.github.io/bbc-grandstand/" class="markup--anchor markup--p-anchor" rel="nofollow">Grandstand</a>, we’re creating new components which can exist outside of the BBC Sport codebase.</p></div></div></section>