---
title: "meadmaker/sql-style-guide"
description: "sql-style-guide - SQL Style guide"
link: "https://github.com/meadmaker/sql-style-guide"
saved: "2016-02-02 15:51:22"
---
<h1><a id="user-content-the-sql-style-guide" class="anchor" href="https://github.com/meadmaker/sql-style-guide?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#the-sql-style-guide" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" role="img" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg></a>The SQL style guide</h1>

<p>The goal of this style guide is to improve the readability of SQL queries.</p>

<h2><a id="user-content-formatting" class="anchor" href="https://github.com/meadmaker/sql-style-guide?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#formatting" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" role="img" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg></a>Formatting</h2>

<h3><a id="user-content-keywords" class="anchor" href="https://github.com/meadmaker/sql-style-guide?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#keywords" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" role="img" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg></a>Keywords</h3>

<ul>
<li><p>Keywords should be UPPERCASE.</p>

<div class="highlight highlight-source-sql"><pre><span class="pl-c">/* Good */</span>
<span class="pl-k">SELECT</span> <span class="pl-c1">COUNT</span>(<span class="pl-c1">1</span>) <span class="pl-k">FROM</span> tablename <span class="pl-k">WHERE</span> <span class="pl-c1">1</span>;

<span class="pl-c">/* Bad */</span>
<span class="pl-k">select</span> <span class="pl-c1">count</span>(<span class="pl-c1">1</span>) <span class="pl-k">from</span> tablename <span class="pl-k">where</span> <span class="pl-c1">1</span>;</pre></div></li>
</ul>

<h3><a id="user-content-names" class="anchor" href="https://github.com/meadmaker/sql-style-guide?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#names" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" role="img" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg></a>Names</h3>

<ul>
<li>Named objects should not be surrounded by backticks, no matter what MySQL says when it dumps the table structure for you.

<ul>
<li> If you need to use backticks because of something in your table name, rename your table.</li>
</ul></li>
</ul>

<h3><a id="user-content-indentation-and-newlines" class="anchor" href="https://github.com/meadmaker/sql-style-guide?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#indentation-and-newlines" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" role="img" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg></a>Indentation and newlines</h3>

<ul>
<li><p>Newlines should be used for any query that is at all complex or longer than 72 characters.</p></li>
<li><p>Each clause should begin a new line.
SELECT, JOIN, LEFT JOIN, OUTER JOIN, WHERE, UNION, etc. are keywords that begin new clauses.</p>

<div class="highlight highlight-source-sql"><pre>  <span class="pl-c">/* Good */</span>
  <span class="pl-k">SELECT</span> <span class="pl-c1">COUNT</span>(<span class="pl-c1">1</span>)
    <span class="pl-k">FROM</span> tablename
   <span class="pl-k">WHERE</span> really_loooong_column <span class="pl-k">=</span> CONCAT(other_column, <span class="pl-s"><span class="pl-pds">'</span> street<span class="pl-pds">'</span></span>);

  <span class="pl-c">/* Bad */</span>
  <span class="pl-k">SELECT</span> <span class="pl-c1">COUNT</span>(<span class="pl-c1">1</span>) <span class="pl-k">FROM</span> tablename <span class="pl-k">WHERE</span> really_loooong_column <span class="pl-k">=</span> CONCAT(other_column, <span class="pl-s"><span class="pl-pds">'</span> street<span class="pl-pds">'</span></span>);</pre></div></li>
<li><p>The keywords that begin a clause should be right-aligned.
The idea is to make a single character column between the keywords and their objects.</p>

<div class="highlight highlight-source-sql"><pre>  <span class="pl-c">/* Good */</span>
  <span class="pl-k">SELECT</span> <span class="pl-c1">COUNT</span>(<span class="pl-c1">1</span>)
    <span class="pl-k">FROM</span> tablename
   <span class="pl-k">WHERE</span> <span class="pl-c1">1</span>;

    <span class="pl-k">SELECT</span> key_column, <span class="pl-c1">COUNT</span>(<span class="pl-c1">1</span>)
      <span class="pl-k">FROM</span> tablename
  <span class="pl-k">GROUP BY</span> key_column;

  <span class="pl-c">/* Bad */</span>
  <span class="pl-k">SELECT</span> <span class="pl-c1">COUNT</span>(<span class="pl-c1">1</span>)
  <span class="pl-k">FROM</span> tablename
  <span class="pl-k">WHERE</span> <span class="pl-c1">1</span>;</pre></div></li>
<li><p>Subqueries should be aligned as though the open parenthesis were the 0-column
So, they should be indented as a unit, to identify them as subqueries.  They should continue to have the opening keywords right-aligned.</p>

<div class="highlight highlight-source-sql"><pre>  <span class="pl-c">/* Good */</span>
  <span class="pl-k">SELECT</span> <span class="pl-k">*</span>
    <span class="pl-k">FROM</span> (  <span class="pl-k">SELECT</span> <span class="pl-c1">candidates</span>.<span class="pl-c1">name</span>, <span class="pl-c1">count</span>(<span class="pl-c1">1</span>)
              <span class="pl-k">FROM</span> candidates
              <span class="pl-k">JOIN</span> votes <span class="pl-k">ON</span> <span class="pl-c1">candidates</span>.<span class="pl-c1">id</span> <span class="pl-k">=</span> <span class="pl-c1">votes</span>.<span class="pl-c1">candidate_id</span>
          <span class="pl-k">GROUP BY</span> <span class="pl-c1">candidates</span>.<span class="pl-c1">name</span>) name_count
    <span class="pl-k">JOIN</span> city c <span class="pl-k">ON</span> <span class="pl-c1">name_count</span>.<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-c1">c</span>.<span class="pl-c1">mayor</span>;

  <span class="pl-c">/* Bad */</span>
  <span class="pl-k">SELECT</span> <span class="pl-k">*</span>
    <span class="pl-k">FROM</span> (<span class="pl-k">SELECT</span> <span class="pl-c1">candidates</span>.<span class="pl-c1">name</span>, <span class="pl-c1">count</span>(<span class="pl-c1">1</span>)
      <span class="pl-k">FROM</span> candidates
      <span class="pl-k">JOIN</span> votes <span class="pl-k">ON</span> <span class="pl-c1">candidates</span>.<span class="pl-c1">id</span> <span class="pl-k">=</span> <span class="pl-c1">votes</span>.<span class="pl-c1">candidate_id</span>
      <span class="pl-k">GROUP BY</span> <span class="pl-c1">candidates</span>.<span class="pl-c1">name</span>) name_count
    <span class="pl-k">JOIN</span> city <span class="pl-k">ON</span> <span class="pl-c1">name_count</span>.<span class="pl-c1">name</span> <span class="pl-k">=</span> <span class="pl-c1">city</span>.<span class="pl-c1">mayor</span>;</pre></div></li>
</ul>

<h2><a id="user-content-structure" class="anchor" href="https://github.com/meadmaker/sql-style-guide?utm_source=SitePoint&amp;utm_medium=email&amp;utm_campaign=Versioning#structure" aria-hidden="true"><svg aria-hidden="true" class="octicon octicon-link" height="16" role="img" version="1.1" viewBox="0 0 16 16" width="16"><path d="M4 9h1v1h-1c-1.5 0-3-1.69-3-3.5s1.55-3.5 3-3.5h4c1.45 0 3 1.69 3 3.5 0 1.41-0.91 2.72-2 3.25v-1.16c0.58-0.45 1-1.27 1-2.09 0-1.28-1.02-2.5-2-2.5H4c-0.98 0-2 1.22-2 2.5s1 2.5 2 2.5z m9-3h-1v1h1c1 0 2 1.22 2 2.5s-1.02 2.5-2 2.5H9c-0.98 0-2-1.22-2-2.5 0-0.83 0.42-1.64 1-2.09v-1.16c-1.09 0.53-2 1.84-2 3.25 0 1.81 1.55 3.5 3 3.5h4c1.45 0 3-1.69 3-3.5s-1.5-3.5-3-3.5z"></path></svg></a>Structure</h2>

<ul>
<li><p>Column aliases should always use the keyword AS
This becomes significant when a query has several columns selected with columns aliased.  Without the AS keyword, a dropped comma makes two columns become a single aliased column.</p>

<div class="highlight highlight-source-sql"><pre>  <span class="pl-c">/* Good */</span>
  <span class="pl-k">SELECT</span> ebe_ebs_sox_flag_set_for_all_crs <span class="pl-k">AS</span> sox_ok
    <span class="pl-k">FROM</span> tablename;

  <span class="pl-c">/* Bad */</span>
  <span class="pl-k">SELECT</span> ebe_ebs_sox_flag_set_for_all_crs sox_ok
    <span class="pl-k">FROM</span> tablename;
</pre></div></li>
<li><p>Table aliases and column aliases should be descriptive.
Much like variable names, "a", "b", "x", etc are not generally useful in and of themselves outside of short examples.</p></li>
<li><p>Tiny names for table aliases can sometimes work as abbreviations.
As an example, if "releases" is referenced frequently, it might make sense to abbreviate it "r".  However, "rel" is almost as short, and much more descriptive.  Have a good reason for "r" instead of "rel".</p></li>
<li><p>Subquery aliases should be even more descriptive.
Subqueries effectively create ad-hoc tables in memory.  As such, if you name it "x", then there's absolutely nothing to suggest the intention behind the table to a later maintainer.</p>

<div class="highlight highlight-source-sql"><pre><span class="pl-c">/* Good */</span>
<span class="pl-k">SELECT</span> <span class="pl-k">*</span>
  <span class="pl-k">FROM</span> (<span class="pl-k">SELECT</span> <span class="pl-c1">table1</span>.<span class="pl-c1">id</span> <span class="pl-k">AS</span> child, 
               <span class="pl-c1">table2</span>.<span class="pl-c1">id</span> <span class="pl-k">AS</span> parent
          <span class="pl-k">FROM</span> table1
          <span class="pl-k">JOIN</span> table2 <span class="pl-k">ON</span> (<span class="pl-c1">table2</span>.<span class="pl-c1">parent_id</span> <span class="pl-k">=</span> <span class="pl-c1">table1</span>.<span class="pl-c1">id</span>) ) parentage;

<span class="pl-c">/* Bad */</span>
<span class="pl-k">SELECT</span> <span class="pl-k">*</span>
  <span class="pl-k">FROM</span> (<span class="pl-k">SELECT</span> <span class="pl-c1">table1</span>.<span class="pl-c1">id</span> <span class="pl-k">AS</span> child, 
               <span class="pl-c1">table2</span>.<span class="pl-c1">id</span> <span class="pl-k">AS</span> parent
          <span class="pl-k">FROM</span> table1
          <span class="pl-k">JOIN</span> table2 <span class="pl-k">ON</span> (<span class="pl-c1">table2</span>.<span class="pl-c1">parent_id</span> <span class="pl-k">=</span> <span class="pl-c1">table1</span>.<span class="pl-c1">id</span>) ) x;

<span class="pl-c">/* Bad */</span>
<span class="pl-k">SELECT</span> <span class="pl-k">*</span>
  <span class="pl-k">FROM</span> (<span class="pl-k">SELECT</span> <span class="pl-c1">table1</span>.<span class="pl-c1">id</span> <span class="pl-k">AS</span> child, 
               <span class="pl-c1">table2</span>.<span class="pl-c1">id</span> <span class="pl-k">AS</span> parent
          <span class="pl-k">FROM</span> table1
          <span class="pl-k">JOIN</span> table2 <span class="pl-k">ON</span> (<span class="pl-c1">table2</span>.<span class="pl-c1">parent_id</span> <span class="pl-k">=</span> <span class="pl-c1">table1</span>.<span class="pl-c1">id</span>) ) link;</pre></div>

<ul>
<li> Abbreviations don't help in subquery aliases</li>
</ul></li>
</ul>
